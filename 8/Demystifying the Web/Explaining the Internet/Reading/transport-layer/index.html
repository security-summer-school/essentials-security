<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Demystifying the Web/Explaining the Internet/Reading/transport-layer">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">The Transport Layer | Essentials Security</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost//essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/transport-layer"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="The Transport Layer | Essentials Security"><meta data-rh="true" name="description" content="So with IPs, we can connect two hosts however far apart they are."><meta data-rh="true" property="og:description" content="So with IPs, we can connect two hosts however far apart they are."><link data-rh="true" rel="canonical" href="http://localhost//essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/transport-layer"><link data-rh="true" rel="alternate" href="http://localhost//essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/transport-layer" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost//essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/transport-layer" hreflang="x-default"><link rel="stylesheet" href="/essentials-security/8/assets/css/styles.a69a9d41.css">
<link rel="preload" href="/essentials-security/8/assets/js/runtime~main.f71af9ab.js" as="script">
<link rel="preload" href="/essentials-security/8/assets/js/main.1a0c03df.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/essentials-security/8/"><div class="navbar__logo"><img src="/essentials-security/8/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/essentials-security/8/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Essentials Security</b></a><a class="navbar__item navbar__link" href="/essentials-security/8/Scratch Linux">Scratch Linux</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/essentials-security/8/Demystifying the Web">Demystifying the Web</a><a class="navbar__item navbar__link" href="/essentials-security/8/Data">Data</a><a class="navbar__item navbar__link" href="/essentials-security/8/Binary Introduction">Binary Introduction</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/essentials-security/8/Scratch Linux/">Scratch Linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scratch Linux&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/essentials-security/8/Demystifying the Web/">Demystifying the Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Demystifying the Web&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/">Explaining the Internet</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explaining the Internet&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/">Reading</a><button aria-label="Toggle the collapsible sidebar category &#x27;Reading&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/introduction">Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/internet-overview">Internet Overview</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/layers">Layers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/routers">Routers</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/urls">URLs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/dns">DNS</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/transport-layer">Transport Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/application-layer">Application Layer</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/summary">Summary</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/further-reading">Further Reading</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Drills/">Drills</a><button aria-label="Toggle the collapsible sidebar category &#x27;Drills&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/essentials-security/8/Demystifying the Web/Re-Discovering the Browser/">Re-Discovering the Browser</a><button aria-label="Toggle the collapsible sidebar category &#x27;Re-Discovering the Browser&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/essentials-security/8/Demystifying the Web/Hacking the Web/">Hacking the Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hacking the Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/essentials-security/8/Data/">Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/essentials-security/8/Binary Introduction/">Binary Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Binary Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/essentials-security/8/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/essentials-security/8/Demystifying the Web/"><span itemprop="name">Demystifying the Web</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/"><span itemprop="name">Explaining the Internet</span></a><meta itemprop="position" content="2"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/"><span itemprop="name">Reading</span></a><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Transport Layer</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>The Transport Layer</h1><p>So with IPs, we can connect two hosts however far apart they are.
So far, we managed to directly connect hosts.
Then we moved on to LANs and then to the whole Web.
This must be it, right?
We&#x27;re now worldwide.
Why all the fuss about the Transport Layer.
Let&#x27;s run an experiment: in your browser, open two tabs to your favourite website (which is <a href="https://security-summer-school.github.io" target="_blank" rel="noopener noreferrer">https://security-summer-school.github.io</a>, of course).
How are those connections handled?
How come what you do in one of the tabs does not interfere with what you do in the other?
IPs give us connections from host to host, but they can&#x27;t differentiate between multiple connections between the same two hosts.</p><p>For this, we need another concept: <strong>ports</strong>.
The layer that implements these ports is called <strong>the transport layer</strong>.</p><p>The transport layer is the second layer of the protocol stack and sits immediately below the application layer.
At the transport layer there are two main protocols in use: <strong>Transmission Control Protocol (TCP)</strong> and <strong>User Datagram Protocol (UDP)</strong>.
More about them in just a bit.</p><p>The transport layer accepts <strong>messages</strong> from the application layer as application data.
It does not care if this data is part of the connection setup process, actual data to be transferred, or some other control message.
It just sees the data as a bunch of bytes to be transported to the receiving end&#x27;s transport layer.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="ports">Ports<a class="hash-link" href="#ports" title="Direct link to heading">​</a></h2><p>Generally speaking, ports are endpoints used for communication.
They have no physical correspondence, but are merely logical concepts used to segregate between different processes, all running on the same host.</p><p>A port is a 16-bit number used in order to identify multiple network-using processes <strong>on the same host</strong>.
Notice that with IPs we were talking about identifying <em>hosts</em> whereas now we&#x27;ve increased the granularity and are talking about <em>processes</em>
As a result, when a sender process wants to connect to another process (the receiver), it must specify both the port it&#x27;s currently using and the port used by the receiver.</p><p>Since ports are numbers up to <code>2^16</code>, this means there are 65536 of them.
This number is enough, given that it&#x27;s meant to encompass the network-using processes in the system.
However, not all of them are available for your average network application.
The <strong>first 1024 (port numbers 0 to 1023)</strong> of them are reserved for common system applications and services.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="tcp">TCP<a class="hash-link" href="#tcp" title="Direct link to heading">​</a></h2><p>The &quot;Control&quot; word in this protocol&#x27;s name should give us a hint that TCP is about handling various errors that may occur while a packet is traversing the internet.
For this reason, TCP keeps track of the amount of data it sends and ensures it arrives in order (by buffering any out-of-order packets).
This type of tracking is made possible by the use of <strong>sequence numbers (<code>Seq</code>)</strong>.
In addition, the receiver sends a special message whenever it gets a segment.
This message is called <strong>acknowledgment (ACK)</strong>.
Each ACK is sent together with an <strong>ACK number</strong>.
This number signifies the amount of bytes received so far by the host.
It is used by the sender to figure out what portion of the data to send as part of the next segment.</p><p><img loading="lazy" alt="TCP ACKs in Action" src="/essentials-security/8/assets/images/tcp_ack_model-7fa0148027570ea3208dcb6b51ca468f.webp" width="538" height="756" class="img_ev3q"></p><p>In the above diagram we can see that the sender (client) adds some bytes (whose length is specified as <code>Len</code>) to those already sent.
At the same time, the receiver (server) adds the newly arrived bytes to those received previously and sends this number back to the client as the ACK number.</p><p>But some segments might arrive altered (some of their bits may be changed).
TCP adds what&#x27;s called a <strong>checksum</strong> to each packet.
This checksum is computed by <code>xor</code>-ing all bytes in the segment.
When a segment is received, its checksum is recomputed and compared to the one contained within it.
If the two checksums differ, the receiver notifies the sender by sending a <strong>not ACK (NACK)</strong> segment instead of an ACK.
Upon receiving a NACK, the sender <strong>retransmits</strong> the segment.
The same mechanism is employed for segments that do not make it to the receiver.</p><p>In short, TCP makes sure that whatever is sent is received completely and correctly.
This feature is obviously important.
As a result, TCP is used for the transport-layer in the following application-level protocols and scenarios:</p><ul><li><strong>SMTP (Simple Mail Transfer Protocol)</strong>, <strong>IMAP (Internet Access Message Protocol)</strong> and <strong>POP3 (Post Office Protocol version 3)</strong>: the main protocols used by email services worldwide.</li><li><strong>HTTP/HTTPS (HyperText Transfer Protocol / Secured)</strong>: the most popular protocol used to transfer web pages.
By default, HTTP uses port 80 and HTTPS uses port 443.</li><li><strong>SSH (Secure Shell)</strong>: a widely used protocol for obtaining a remote shell on another machine.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ssh">SSH<a class="hash-link" href="#ssh" title="Direct link to heading">​</a></h3><p>We&#x27;ve been using <code>ssh</code> to connect to the remote machines used for challenges and tutorials.
Now we know it is a protocol used for connecting to remote hosts via a shell.
It opens a TCP connection to the remote host, where each character typed in the terminal is sent to the receiving host.</p><p>As its name suggests, the gist of this protocol is <strong>secured</strong>.
The security implies that the characters are not sent to the receiver as plain text, but are <strong>encrypted</strong>.
While we&#x27;ll discuss more about encryption in the <a href="/essentials-security/8/Demystifying the Web/Explaining the Internet/data-security">Data Security</a> session, it is important that we outline the main workings of encryption.</p><p>Upon initiating the SSH connection, an encryption algorithm is negotiated between the communicating hosts.
This algorithm performs two operations: encryption and decryption</p><ul><li><strong>Encryption</strong> transforms data (either keys pressed by the sender, or the output from the receiver) into bytes that look random (i.e. one cannot distinguish an encrypted text and a random set of bytes).</li><li><strong>Decryption</strong> performs the opposite operation: turns encrypted bytes into plain text.</li></ul><p>The typical <code>ssh</code> command looks like this:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> user@ip</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> student@141.85.224.100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, SSH uses port 22.
We can specify another port by using the <code>-p</code> parameter like so:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">ssh</span><span class="token plain"> user@ip -p port</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is what you&#x27;ve been doing for the last 2 sessions in order to log onto our machines and solve challenges:</p><div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@kali:~</span><span class="token comment" style="color:#999988;font-style:italic"># ssh ctf@ip -p &lt;some_number&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What you did is you created an SSH connection using a custom port which did not open a shell onto our full machines, but onto an individual <a href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/further-reading#containers">container</a> that was hosting each challenge.
Think of a container as a lighter, albeit less secure VM.
The architecture looks like this:</p><p><img loading="lazy" alt="Challenge Hosting Architecture" src="/essentials-security/8/assets/images/challenge_hosting_architecture-c7dd58c9ceda8aae1f9ee57a0cc7129c.svg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="udp">UDP<a class="hash-link" href="#udp" title="Direct link to heading">​</a></h3><p>We said TCP guarantees the correctness of the delivered data, which is great.
This guarantee, however, comes at the cost of performance.
In the picture above, we saw how ACKs are transmitted.
This mechanism causes a significant temporal overhead, that we sometimes simply cannot afford.
There are services that need to transfer data really fast and, thus, they forgo the need for <strong>datagram</strong> correctness.
As the protocol&#x27;s name suggests, UDP messages are called datagrams.
If a received packet is incorrect or if it&#x27;s missing, well... too bad.
Life moves on... to the next packet and so on.
So applications usually simply discard incorrect or missing UDP datagrams.
In case you were wondering, UDP also computes the checksum, but provides no mechanism for error handling.
It&#x27;s up to the application layer to deal with them.</p><p>In short, with UDP, the sender just sends its datagrams to the receiver.
Some might arrive out of order, or corrupted, but this is entirely the receiver&#x27;s problem.</p><p>Moreover, with the wide implementation of optical fiber around the world, the possibility of datagrams being lost or corrupted has dropped to almost 0.
For this reason, UDP is mostly used for streaming services:</p><ul><li>YouTube</li><li>Netflix</li><li>Discord</li><li>Spotify</li><li>PornHub</li></ul><p>Since an image is worth 1000 words, here&#x27;s a summary of TCP and UDP:</p><p><img loading="lazy" alt="TCP vs UDP" src="/essentials-security/8/assets/images/tcp_vs_udp-11915d73a4a94a35d49987ff7c245f79.jpg" width="460" height="386" class="img_ev3q"></p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/dns"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">The Domain Name System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/essentials-security/8/Demystifying the Web/Explaining the Internet/Reading/application-layer"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">The Application Layer</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#ports" class="table-of-contents__link toc-highlight">Ports</a></li><li><a href="#tcp" class="table-of-contents__link toc-highlight">TCP</a><ul><li><a href="#ssh" class="table-of-contents__link toc-highlight">SSH</a></li><li><a href="#udp" class="table-of-contents__link toc-highlight">UDP</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://security.cs.pub.ro/summer-school/wiki/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCW<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/SSSUPB/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SSS Team</div></div></div></footer></div>
<script src="/essentials-security/8/assets/js/runtime~main.f71af9ab.js"></script>
<script src="/essentials-security/8/assets/js/main.1a0c03df.js"></script>
</body>
</html>