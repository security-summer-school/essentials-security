<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-Demystifying the Web/Explaining the Internet/README">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v2.1.0">
<title data-rh="true">Explaining the Internet | Essentials Security</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="http://localhost//essentials-security/7/Demystifying the Web/Explaining the Internet/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Explaining the Internet | Essentials Security"><meta data-rh="true" name="description" content="Introduction"><meta data-rh="true" property="og:description" content="Introduction"><link data-rh="true" rel="canonical" href="http://localhost//essentials-security/7/Demystifying the Web/Explaining the Internet/"><link data-rh="true" rel="alternate" href="http://localhost//essentials-security/7/Demystifying the Web/Explaining the Internet/" hreflang="en"><link data-rh="true" rel="alternate" href="http://localhost//essentials-security/7/Demystifying the Web/Explaining the Internet/" hreflang="x-default"><link rel="stylesheet" href="/essentials-security/7/assets/css/styles.a69a9d41.css">
<link rel="preload" href="/essentials-security/7/assets/js/runtime~main.b60cf3d9.js" as="script">
<link rel="preload" href="/essentials-security/7/assets/js/main.d95fb9c1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region" aria-label="theme.common.skipToMainContent"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/essentials-security/7/"><div class="navbar__logo"><img src="/essentials-security/7/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--light_HNdA"><img src="/essentials-security/7/img/logo.svg" alt="Logo" class="themedImage_ToTc themedImage--dark_i4oU"></div><b class="navbar__title text--truncate">Essentials Security</b></a><a class="navbar__item navbar__link" href="/essentials-security/7/Scratch Linux">Scratch Linux</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/essentials-security/7/Demystifying the Web">Demystifying the Web</a><a class="navbar__item navbar__link" href="/essentials-security/7/Data">Data</a><a class="navbar__item navbar__link" href="/essentials-security/7/Binary Introduction">Binary Introduction</a></div><div class="navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/essentials-security/7/Scratch Linux/">Scratch Linux</a><button aria-label="Toggle the collapsible sidebar category &#x27;Scratch Linux&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" aria-expanded="true" href="/essentials-security/7/Demystifying the Web/">Demystifying the Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Demystifying the Web&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/essentials-security/7/Demystifying the Web/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" tabindex="0" href="/essentials-security/7/Demystifying the Web/Explaining the Internet/">Explaining the Internet</a><button aria-label="Toggle the collapsible sidebar category &#x27;Explaining the Internet&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/essentials-security/7/Demystifying the Web/Explaining the Internet/">Reading</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/essentials-security/7/Demystifying the Web/Re-Discovering the Browser/">Re-Discovering the Browser</a><button aria-label="Toggle the collapsible sidebar category &#x27;Re-Discovering the Browser&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" tabindex="0" href="/essentials-security/7/Demystifying the Web/Hacking the Web/">Hacking the Web</a><button aria-label="Toggle the collapsible sidebar category &#x27;Hacking the Web&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/essentials-security/7/Data/">Data</a><button aria-label="Toggle the collapsible sidebar category &#x27;Data&#x27;" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" aria-expanded="false" href="/essentials-security/7/Binary Introduction/">Binary Introduction</a><button aria-label="Toggle the collapsible sidebar category &#x27;Binary Introduction&#x27;" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/essentials-security/7/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/essentials-security/7/Demystifying the Web/"><span itemprop="name">Demystifying the Web</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Explaining the Internet</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Explaining the Internet</h1><h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a class="hash-link" href="#introduction" title="Direct link to heading">​</a></h2><p>In this session, we&#x27;ll discuss some networking fundamentals.
By doing so, we&#x27;ll lay the foundations for some of our later sessions regarding networking and the Internet, such as <a href="/essentials-security/7/Demystifying the Web/rediscovering-the-browser">(Re)Discovering the Browser</a>
and <a href="/essentials-security/7/Demystifying the Web/hacking-the-web">Hacking the Web</a>.</p><p>Moreover, we&#x27;ll explain what happens when you access a URL (we&#x27;ll also learn how to do this from our terminals).
Last but not least, we&#x27;ll see what those <code>ssh</code> commands you&#x27;ve been using in order to solve the remote challenges mean.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="reminders-and-prerequisites">Reminders and Prerequisites<a class="hash-link" href="#reminders-and-prerequisites" title="Direct link to heading">​</a></h2><p>For this session, you&#x27;ll need:</p><ul><li>a working internet connection;</li><li>a Linux environment that you&#x27;re comfortable working with;</li><li>to understand what a <em>process</em> is;</li><li>general knowledge of the Linux CLI, as discussed in session <a href="/essentials-security/7/Demystifying the Web/welcome-to-linux">Welcome to Linux</a>.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="a-general-overview-of-the-internet">A General Overview of the Internet<a class="hash-link" href="#a-general-overview-of-the-internet" title="Direct link to heading">​</a></h2><p>Before learning how to use and, later, how to hack the Internet, let&#x27;s first understand its building blocks.
The Internet is all about sending data to and from an enormous amount of hosts.</p><p>In order to learn how all of this works, let&#x27;s start from the example below.
It&#x27;s generic enough for it to be relatable to most networking scenarios.
Yet, it encompasses everything we need to talk about.</p><p><img loading="lazy" alt="Network Stack" src="/essentials-security/7/assets/images/network_stack-7ec9712b880e622b7750b6703dac1146.png" width="730" height="660" class="img_ev3q"></p><p>So what happens here is that the computer on the left is trying to <strong>send</strong> data to the one on the right.
We call the left computer <strong>the sender</strong> and the right one <strong>the receiver</strong>.
The two computers are connected via a <strong>medium</strong> on which the actual bits of data that make up the communication are sent.
In short, this medium is the connection between the aforementioned computers.</p><p>However, there are 4 boxes above the aforementioned medium.
These boxes are altogether known as <strong>The TCP/IP Network Stack</strong>.
We&#x27;ll see what&#x27;s with the <em>TCP/IP</em> part soon enough.
Individually, each box is a <strong>layer</strong>.
Here are the 4 layers of the TCP/IP stack:</p><p><img loading="lazy" alt="The TCP/IP Network Stack" src="/essentials-security/7/assets/images/tcp_ip_network_stack-1566e3ad915dc324385453eddd9b657c.svg" width="700" height="360" class="img_ev3q"></p><p>Each layer provides a well-defined set of requirements, which are fulfilled by <strong>protocols</strong>.
A networking protocol is a set of rules that define the communication (data formatting and processing) between the same two levels of the network stack.
For example, there are protocols for the transport layer, others for the link layer and so on.
We&#x27;ll talk about them in a bit.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="encapsulation">Encapsulation<a class="hash-link" href="#encapsulation" title="Direct link to heading">​</a></h3><p>Each layer takes care of a specific requirement of networking, as we&#x27;ll discuss shortly.
When sending data, each of the layers in the TCP/IP model accepts data from the layer above (or from the user in the case of the application layer), and adds additional information to the data that is necessary for that layer to carry out its task.
In some cases, the original data may be processed in some way before the additional information is added.
For example, it might be encrypted.
The layer then passes this data on to the layer below (or onto the transmission medium in the case of the link layer).</p><p>The arrival of data from an upper layer may trigger additional separate messages to be sent to the receiving end.
For instance, if the data needed to be encrypted, the layer that carries out the encryption has to exchange initial setup messages with the receiving end to agree the encryption method and other data that we&#x27;ll touch on in the session <a href="/essentials-security/7/Demystifying the Web/data-security">Data Security</a>, before the encrypted data can be transferred.</p><p>At the receiving end, the process happens in reverse: each layer accepts data from the layer below, inspects and removes the additional information added on by the corresponding layer in the sending end, before passing it up to the layer above.</p><p>Data is passed from a sender process to a receiver process by using the services of the layer below.
It is only the final layer that actually causes the data to be transmitted onto the transmission media (e.g. cable). Below is a representation of this whole mechanism.</p><p><img loading="lazy" alt="General Workings of a Network Stack Layer" src="data:image/png;base64,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" width="500" height="320" class="img_ev3q"></p><p>This method of modular communication is called <strong>encapsulation</strong>.
It can be likened to taking the data from the layer above and placing it in an <strong>envelope</strong>, writing some additional information on the envelope, then passing the envelope to the layer below.
At the receiving end, a layer is passed an envelope from the layer below.
It looks at the data on the outside of the envelope to decide what to do with the contents of the envelope.
It then opens the envelope and passes the contained data up to the next level. The reverse of encapsulation is <strong>decapsulation</strong>.
After a message has passed through the network stack, it ends up in a <em>matrioshka</em> of envelopes, one for each layer, each with its own, specific information.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="a-bit-of-nomenclature">A Bit of Nomenclature<a class="hash-link" href="#a-bit-of-nomenclature" title="Direct link to heading">​</a></h3><p>As we said previously, each of the layers of the TCP/IP model adds its own information to the data coming from the layer above.
This encapsulation at each layer results in a new structure effectively wrapping up the original data.
Each of these has a specific name depending on the layer that creates it:</p><table><thead><tr><th align="center">TCP/IP Layer</th><th align="center">Name of data block produced by the layer</th></tr></thead><tbody><tr><td align="center">Application</td><td align="center">Application data (e.g. HTTP, HTTPS)</td></tr><tr><td align="center">Transport</td><td align="center">Segments (TCP) or datagrams (UDP)</td></tr><tr><td align="center">Internet</td><td align="center">Packets (e.g IP packet)</td></tr><tr><td align="center">Link</td><td align="center">Frames (e.g. Ethernet frame)</td></tr></tbody></table><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-medium">The Medium<a class="hash-link" href="#the-medium" title="Direct link to heading">​</a></h2><p>This layer is not mentioned in the above diagrams, but is worth talking a little bit about.
The medium represents the connection itself between the 2 stations.
This connection can be:</p><ul><li><strong>wired</strong>: using a cable on which digital signals that encode the bits are sent</li><li><strong>wireless</strong>: using high-frequency radio waves in order to send the same signals as before</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-link-layer">The Link Layer<a class="hash-link" href="#the-link-layer" title="Direct link to heading">​</a></h2><p>This layer is also known as the <strong>Data Link</strong> layer.</p><p>It represents the underlying technology of any application.
The device on which the application is running may have a choice of many technologies to connect to a network, such as Ethernet, WiFi, Bluetooth, 4G, 5G (<em>tinfoil hat off</em>) etc.
Where more than one link exists, the operating system of the device chooses the most appropriate link.
For instance, a mobile phone might be connected to both 4G and WiFi.
Most mobile phones prefer the WiFi connection, but remain connected to 4G mobile data, which they use as backup.
However, in some cases the application itself may dictate the choice of link, e.g. the mobile phone may decide to send traffic over WiFi to avoid 4G data charges.
Once the link has been chosen, the appropriate link layer protocol is selected.</p><p>The most commonly used link layer protocol is <strong>Ethernet</strong>.
Wired or wireless Ethernet is used on most local area networks (LANs).
The packets from the internet layer are further encapsulated in Ethernet frames which are designed to be transported across a local network.</p><p>This layer needs a means to identify local stations.
This is where the <strong>Media Access Control (MAC) addresses</strong> come in.
They are 48 bits long and are unique to a specific <strong>Network Interface Card (NIC)</strong>.
The MAC address is physically tied to the hardware of the computer, which means it may also be referred to as the hardware or physical address.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-internet-layer">The Internet Layer<a class="hash-link" href="#the-internet-layer" title="Direct link to heading">​</a></h2><p>So each NIC has its own 48-bit MAC address.
This means there are <code>2^48</code> unique MACs, which means <code>2^48</code> unique NICs.
<code>2^48</code> is a huge number, which is way beyond everything humanity has produced so far.
So, since we aren&#x27;t likely to run out of MAC addresses any time soon, a host can be easily identified in the Internet via its MAC, right?
Yes, it can.</p><p>There is one problem, though.
Suppose the sender is in the US and the receiver is in India.
There&#x27;s no way you can connect these two hosts using the same medium.
You need some intermediaries: <strong>routers</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="routers">Routers<a class="hash-link" href="#routers" title="Direct link to heading">​</a></h3><p>It is impossible to connect your PC / laptop directly (physically) to every PC or server in the world.
Therefore, we need <strong>networks</strong>, which are basically aggregations of hosts (servers, PCs, laptops, mobile phones etc.).</p><p>Each network contains one <strong>router</strong> which sends data between the hosts in its network and those on other networks.
So a router is a networking device that connects two or more networks.
Think of the router you most probably have at home.
There is a <em>local network</em>, to which you can connect via WiFi, or Ethernet cables.
You&#x27;re probably doing this right now.
Another network is the one provided by your Internet Service Provider (ISP).</p><p>There are many ISPs around the world and even more local home networks.
The web thus becomes a <em>web of routers</em> who transmit <strong>packets</strong> from one network to another.
Back to our example above, you will surely need many routers to get a packet from the US to India.</p><p>But how does a router know how where to send a packet?
Let&#x27;s say a router R1 connects a laptop with IP 192.168.100.5 and a PC with IP 192.168.100.10 to the external network, as shown in the image below.</p><p><img loading="lazy" alt="Router in Action" src="/essentials-security/7/assets/images/router_in_action-1090b63958dad67f66d3518e9560a935.svg" class="img_ev3q"></p><p>Now let&#x27;s look at 2 different scenarios:</p><ol><li>If the laptop sends a packet to IP <code>192.168.100.10</code>, the router knows this address is part of its <strong>Local Area Network (LAN)</strong> and sends it directly to the PC.</li><li>If the PC sends a packet to <code>upb.ro</code> (with IP <code>141.85.220.33</code>), the router sees its IP as an external address. Therefore, it passes it into the internet, where other routers take it and then pass it again to other routers and so on, until the packet reaches <code>upb.ro</code>.</li></ol><p>Each new router that a packet encounters on its way from source to destination is called a <strong>hop</strong>.
Most often, a hop is a router.
In order to visualise the hops that our requests to a well-known service, such as <code>google.com</code>, we use the <code>traceroute</code> command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──(kali㉿kali)-[~]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─$ traceroute google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">traceroute to google.com (142.250.185.206), 30 hops max, 60 byte packets</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 1  _gateway (10.0.2.2)  0.212 ms  0.123 ms  0.228 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 2  10.20.21.254 (10.20.21.254)  2.815 ms  3.908 ms  3.838 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 3  109.101.201.49 (109.101.201.49)  4.894 ms  4.971 ms  4.810 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 4  193.231.103.0 (193.231.103.0)  9.634 ms  9.467 ms  9.359 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 5  10.0.241.109 (10.0.241.109)  8.547 ms  9.129 ms  9.958 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 6  * * *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 7  10.0.240.194 (10.0.240.194)  59.356 ms  39.555 ms 10.0.200.6 (10.0.200.6)  39.579 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 8  10.0.240.121 (10.0.240.121)  39.426 ms  39.373 ms  38.338 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> 9  92.87.30.10 (92.87.30.10)  42.521 ms  39.938 ms  41.795 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">10  * 10.252.185.126 (10.252.185.126)  40.778 ms *</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">11  142.250.226.148 (142.250.226.148)  38.924 ms 172.253.73.152 (172.253.73.152)  41.083 ms 108.170.252.1 (108.170.252.1)  42.216 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">12  142.250.225.77 (142.250.225.77)  39.563 ms 108.170.252.18 (108.170.252.18)  40.317 ms 142.250.225.77 (142.250.225.77)  36.148 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">13  fra16s52-in-f14.1e100.net (142.250.185.206)  40.195 ms 209.85.242.79 (209.85.242.79)  39.355 ms 108.170.236.249 (108.170.236.249)  38.919 ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Let&#x27;s explain the output.
Each line represents a <strong>hop</strong> (i.e. a router) that a packet must pass through in order to reach <code>google.com</code>.
The first number is the index of the hop.
The second is the <em>IP</em> of the network.
You&#x27;ve probably heard about IPs before.
We&#x27;ll demystify them in a bit.
<code>traceroute</code> sends 3 packets, for consistency.
It counts the time it takes from sending each of these packets to the moment the response reaches the sender.
This time is called <strong>Round Trip Time (RTT)</strong>.
As we said, <code>traceroute</code> sends and monitors 3 packets in order to display the consistency of the link to each hop.</p><p>The first hop is between the VM and the host.
The other is the router to which the host is connected.
From then on, it&#x27;s the wild Internet itself.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ip-addresses">IP Addresses<a class="hash-link" href="#ip-addresses" title="Direct link to heading">​</a></h3><p>IP addresses or, in short, <strong>IPs</strong>, are 32-bit (i.e. 4 bytes) numbers used to identify <strong>hosts</strong>.
IP stands for <strong>Internet Protocol</strong>, which is the most widely used internet layer protocol.
Notice the difference between IPs and MACs.
While MACs are associated with NICs, IPs are associated with hosts.
Another difference is that whereas a MAC is unique to and engraved into the NIC, a host can change its IP more easily.
We won&#x27;t go into this in today&#x27;s session, but you can read about one such mechanism called <a href="#dhcp">DHCP</a>. </p><p>Of course you are free to express an IP address however you like, but by far the most common representation is to write each of its 4 bytes individually, in the decimal base, separated by a dot (<code>.</code>).
You&#x27;ve already seen IP&#x27;s when connecting to the remote hosts during the previous sessions.
Some IPs are:</p><ul><li><code>8.8.8.8</code>: is the address of Google&#x27;s Public DNS Service.
We&#x27;ll explain what the DNS is in a future <a href="#the-domain-name-system">section</a>.</li><li><code>69.63.176.13</code>: is a common IP address used by Facebook</li><li><code>141.85.224.100</code>: is IP the address of one of the machines in our CTF infrastructure</li></ul><p>In order to see the IP of your machine, run the following command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──(kali㉿kali)-[~]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─$ ip address show</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet 127.0.0.1/8 scope host lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 ::1/128 scope host </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">2: eth0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 08:00:27:3c:2a:8d brd ff:ff:ff:ff:ff:ff</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft 86379sec preferred_lft 86379sec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::262a:29ff:8129:db77/64 scope link noprefixroute </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your output may differ slightly.</p><p>An IP address is associated with a <strong>network interface</strong>.
These interfaces can be virtual or physical (present on your NIC).
In your Kali VM, all interfaces are virtual.</p><p><strong><code>lo</code></strong> is the <strong>loopback</strong> interface.
It&#x27;s an internal interface that each host possesses.
Its purpose is for testing the OS&#x27;s TCP/IP stack.
Its IP is, by convention <code>127.0.0.1</code>, or <code>0.0.0.0</code>.</p><p><strong><code>eth0</code></strong> is the interface used to connect to the Internet.
It acts as a middleman between your host OS (the one in which you&#x27;re running the VM) and the guest OS (Kali).
Its status is <em>UP</em> (i.e. it&#x27;s running) and its IP address is <code>10.0.2.15</code>.</p><p>Notice the <code>/24</code> part.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ping"><code>ping</code><a class="hash-link" href="#ping" title="Direct link to heading">​</a></h4><p>In order to test whether a host is up or down, we can <code>ping</code> its IP.
<code>ping</code> sends packets to the given host (IP or website) and reports whether the host responds or not.
If it responds, it&#x27;s obviously alive.
Otherwise... it&#x27;s complicated.
It can either be dead itself, <strong>or there can be no route to it</strong>.
If we consider that the connection between us and our pinged host is <em>mediated</em> by a chain of routers, as shown in the image above, if <strong>one</strong> of those routers is down and doesn&#x27;t transmit packets, then we may be unable to reach the pinged host.
So a better wording is to say that when a host doesn&#x27;t respond to pings, it&#x27;s not necessarily <em>down</em>, but merely <strong>unreachable</strong>.
From a host&#x27;s point of view though, it&#x27;s irrelevant whether a host is down for real or not.
An unreachable host is as good as a dead one: <em>useless</em>.</p><p><code>localhost</code>, in other words. the <code>lo</code> interface, should <strong>always</strong> be up and respond to pings.
In case it doesn&#x27;t, well... your kernel&#x27;s TCP/IP stack may be broken.
We use the <code>-c 3</code> parameter to only send 3 &quot;pings&quot; to <code>localhost</code>.
Otherwise, <code>ping</code> sends packets continuously, until stopped manually (with <code>ctrl + c</code>).</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──(kali㉿kali)-[~]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─$ ping -c 3 127.0.0.1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.040 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.060 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.046 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- 127.0.0.1 ping statistics ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 packets transmitted, 3 received, 0% packet loss, time 2053ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rtt min/avg/max/mdev = 0.040/0.048/0.060/0.008 ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p><code>ping</code> also tells us the RTT to the pinged host.
Notice the very small times when pinging ourselves.
This makes sense, since there are no hops (routers) between a host and itself.</p><p>Now let&#x27;s ping a remote server, say <code>google.com</code>.
We can <code>ping</code> either an IP or a URL.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">┌──(kali㉿kali)-[~]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">└─$ ping -c 3 google.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 8.8.8.8: icmp_seq=1 ttl=63 time=39.0 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 8.8.8.8: icmp_seq=2 ttl=63 time=50.1 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">64 bytes from 8.8.8.8: icmp_seq=3 ttl=63 time=44.6 ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">--- 8.8.8.8 ping statistics ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">3 packets transmitted, 3 received, 0% packet loss, time 2003ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">rtt min/avg/max/mdev = 39.031/44.556/50.078/4.509 ms</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now the RTTs are longer, because of the routing taking place between our VM and <code>google.com</code>.
The more routers on the way, the longer the RTT.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="urls">URLs<a class="hash-link" href="#urls" title="Direct link to heading">​</a></h3><p>In the above <code>ping</code> command, we used <code>google.com</code> instead of an IP.
But what exactly are strings such as <code>https://www.youtube.com</code> or <code>https://www.google.com</code>?</p><p><strong>Uniform Resource Locators (URLs)</strong> are exactly what their name implies: addresses to given resources on the Web.
This means that each URL can point to <em>at most</em> one resource (some URLs are invalid and, thus, point to no resources).
Such resources can be HTML pages, images, videos and many others.</p><p>Here are some examples of URLs:</p><ul><li><code>https://security-summer-school.github.io</code></li><li><code>https://github.com/security-summer-school/essentials/blob/master/explaining-the-internet/README.md</code></li><li><code>https://www.google.com/search?q=security+summer+school</code></li></ul><p>You&#x27;ve probably figured out that these URLs look somewhat similar.
They all start with <code>https://</code>, they look like paths in the file system, separated by <code>/</code>, they use some special characters such as <code>?</code> and <code>+</code>.
In the next section, we&#x27;ll explain all of these components.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="anatomy-of-a-url">Anatomy of a URL<a class="hash-link" href="#anatomy-of-a-url" title="Direct link to heading">​</a></h4><p>The image below summarises the building blocks of a URL</p><p><img loading="lazy" alt="Anatomy of a URL" src="/essentials-security/7/assets/images/url_anatomy-2117376844f75b5ca2e26272684cf986.png" width="2493" height="241" class="img_ev3q"></p><p>Let&#x27;s disect these components:</p><ul><li><strong>The scheme</strong> (sometimes called <em>schema</em>) indicates the application layer protocol that the browser must use to request the resource.
Usually, for websites, the protocol is HTTP (unsecured) or HTTPS (secured).
We&#x27;ll get into the details of HTTP in the <a href="/essentials-security/7/Demystifying the Web/rediscovering-the-browser">next session</a>.
Other schemes include <code>ftp</code> (File Transfer Protocol), <code>git</code>, <code>mailto</code> etc.</li><li><strong>The authority</strong> is separated from the scheme by the characters <code>://</code>
It includes both the domain (in our case: <code>www.example.com</code>) and the port (<code>80</code>), separated by a colon:<ul><li><strong>The domain</strong> indicates which Web server is being requested.
Usually this is a domain name, but an IP address may also be used (as you&#x27;ve seen when solving our challenges).</li><li><strong>The port</strong> indicates the technical <em>gate</em> used to access the resources on the web server.
It is usually omitted if the web server uses the standard ports of the HTTP protocol (80 for HTTP and 443 for HTTPS) to grant access to its resources.
We&#x27;ll explain this concept in further detail in the <a href="#the-transport-layer">Transport Layer</a> section.</li></ul></li><li><strong>The path</strong> to the resource was, in the early days of the Internet, a physical file location on the web server.
Nowadays, it is mostly an abstraction handled by web servers without any mandatory physical reality.</li><li><strong>The parameters</strong> are like function parameters, but they are passed to the web server itself.
Those parameters are a list of key - value pairs separated with the <code>&amp;</code> symbol.
The web server can use those parameters to do extra stuff before returning the resource.
Each web server has its own rules regarding parameters.
Once again, we&#x27;ll learn more about these parameters, more commonly known as <strong>query parameters</strong> in the <a href="/essentials-security/7/Demystifying the Web/rediscovering-the-browser">next session</a>.</li><li><strong>The anchor</strong>, also known as <strong>fragment</strong>, is like a <em>bookmark</em> to some specific part of the resource.
It gives the browser directions to show the content located at that <em>bookmarked</em> spot.
On an HTML document, for example, the browser will scroll to the point where the anchor is defined; on a video or audio document, the browser will try to go to the time the anchor represents.
Markdown documents also use anchors, like so: <a href="https://github.com/security-summer-school/essentials/tree/master/explaining-the-internet#anatomy-of-a-url" target="_blank" rel="noopener noreferrer">https://github.com/security-summer-school/essentials/tree/master/explaining-the-internet#anatomy-of-a-url</a>.</li></ul><p>You might have heard the same things being called <em>Uniform Resource Identifiers (URIs)</em>.
This is correct, but it&#x27;s not the most precise name you can use.
In order to understand the difference between URLs and URIs, check out their <a href="#url-vs-uri">corresponding section</a>.</p><p>We&#x27;ll see how URLs are translated into IPs by a naming system called the <strong>Domanin Name System (DNS)</strong>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-domain-name-system">The Domain Name System<a class="hash-link" href="#the-domain-name-system" title="Direct link to heading">​</a></h3><p>Remember: IPs, <strong>not URLs</strong>, are what&#x27;s used to identify hosts (web servers included) on the Internet.
So there needs to be a service by which the URLs we&#x27;ve just learned about are mapped to IPs.
This service is called the DNS.
It organises URLs in a hierarchical manner, in order to rapidly respond to queries.
You can think of the DNS as being similar to a <strong>phonebook of the Internet</strong>.</p><p>Here&#x27;s how all of this works.
When you type <code>security-summer-school.github.io</code> into your browser, it sends a query over the Internet in order to find the website associated with the URL <code>security-summer-school.github.io</code>.
A query is a question asking to look up the domain name and respond to the corresponding IP address.
Let&#x27;s follow the path of this question across the Internet.</p><p>In short, a DNS server performs the steps outlined <a href="https://howdns.works/ep1/" target="_blank" rel="noopener noreferrer">here</a>.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-recursive-resolver">The Recursive Resolver<a class="hash-link" href="#the-recursive-resolver" title="Direct link to heading">​</a></h4><p>The first server that the query interacts with is what&#x27;s called the <strong>recursive resolver</strong>.
This resolver is often operated by your ISP.
It is a database of other DNS servers, which asks it forwards the same question: &quot;What is the IP of <code>security-summer-school.github.io</code>?&quot;</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-root-server">The Root Server<a class="hash-link" href="#the-root-server" title="Direct link to heading">​</a></h4><p>The first DNS server that the recursive resolver talks to is the <strong>root server</strong>.
These servers are responsible for translating <em>top-level domains</em>, such as <code>.io</code>, <code>.com</code>, <code>.net</code> etc.
These root servers are few in number (only 13 across the world) and are highly secured.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-top-level-domain-name-server">The Top-Level Domain Name Server<a class="hash-link" href="#the-top-level-domain-name-server" title="Direct link to heading">​</a></h4><p>The next entity that processes the query is the <strong>Top-Level Domain (TLD) Name Server</strong>.
There are TLDs associated with each domain mentioned in the above section.
For instance, the search for <code>security-summer-school.github.io</code> will be passed to the TLD responsible for the <code>.io</code> domain.
This TLD will answer with <code>.io</code>&#x27;s IP.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-authoritative-name-servers">The Authoritative Name Server(s)<a class="hash-link" href="#the-authoritative-name-servers" title="Direct link to heading">​</a></h4><p>The last step in our lookup is <strong>The Authoritative Name Servers</strong> (sometimes the &quot;authoritative&quot; part is omitted).
We use the plural &quot;servers&quot; because our query may be for a subdomain.
In fact, our query for <code>security-summer-school.github</code> is one such case.
This means, that 2 name servers will fulfill the request.
The first server will fetch the IP of <code>.github.io</code> and the second will fetch the IP of the whole query (<code>security-summer-school.github.io</code>), by looking into the subdomains of <code>.github.io</code>.
This server is symilar to a dictionary, in which a specific domain name is translated into its IP.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="putting-it-together">Putting it Together<a class="hash-link" href="#putting-it-together" title="Direct link to heading">​</a></h4><p>As you&#x27;ve probably noticed, the URLs are translated to IPs <em>in reverse order</em>.
As a result, <code>security-summer-school.github.io</code> is mapped to its IP in the order:</p><ul><li><code>.io</code>;</li><li><code>.github</code>;</li><li><code>security-summer-school</code>.</li></ul><p>This makes sense, as this order gradually narrows the <em>scope</em> in which the URL has to be searched.
It would be much more inefficient to look for <code>security-summer-school</code> across the whole Internet, rather than limiting the search to the <code>.github.io</code> domain.
The fact that we are able to perform queries in this manner is proof of the hierarchical nature of IP addresses.</p><p>All in all, the DNS lookup for <code>security-summer-school.github.io</code> is the one shown below.
Notice that the Recursive Resolver acts as a mediator between most of the DNS lookups.</p><p><img loading="lazy" alt="DNS Lookup for security-summer-school.github.io" src="/essentials-security/7/assets/images/dns_lookup-20835f232a0ef9ce09e89d95b1368368.png" width="1276" height="367" class="img_ev3q"></p><p>Notice that only the domain of a URL has its name resolved to an IP address.
The port, path, parameters and anchor are handled by the web server itself.
The DNS part is, thus, necessary in order to <strong>find</strong> that web server.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="host"><code>host</code><a class="hash-link" href="#host" title="Direct link to heading">​</a></h4><p>In the previous section we explained the DNS.
Now let&#x27;s put what we&#x27;ve just learned into practice.
In order to query the DNS service, we use the <code>host</code> command.
It&#x27;s pretty straightforward:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@kali:~# host security.summer.schoo.github.io</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has address 185.199.108.153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has address 185.199.110.153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has address 185.199.109.153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has address 185.199.111.153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has IPv6 address 2606:50c0:8002::153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has IPv6 address 2606:50c0:8000::153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has IPv6 address 2606:50c0:8003::153</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security.summer.schoo.github.io has IPv6 address 2606:50c0:8001::153</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Notice there are more IP&#x27;s for <code>security.summer.schoo.github.io</code>.
The main reason for this is <strong>load balancing</strong>.
Github is accessed frequently and in order not to overload a single server, it uses multiple servers for a single domain.
Obviously, each of them serve the same web page: <code>security.summer.schoo.github.io</code>.
Github simply serves more machines to spread the workload.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-transport-layer">The Transport Layer<a class="hash-link" href="#the-transport-layer" title="Direct link to heading">​</a></h2><p>So with IPs, we can connect two hosts however far apart they are.
So far, we managed to directly connect hosts.
Then we moved on to LANs and then to the whole Web.
This must be it, right?
We&#x27;re now worldwide.
Why all the fuss about the Transport Layer.
Let&#x27;s run an experiment: in your browser, open two tabs to your favourite website (which is <a href="https://security-summer-school.github.io" target="_blank" rel="noopener noreferrer">https://security-summer-school.github.io</a>, of course).
How are those connections handled?
How come what you do in one of the tabs does not interfere with what you do in the other?
IPs give us connections from host to host, but they can&#x27;t differentiate between multiple connections between the same two hosts.</p><p>For this, we need another concept: <strong>ports</strong>.
The layer that implements these ports is called <strong>the transport layer</strong>.</p><p>The transport layer is the second layer of the protocol stack and sits immediately below the application layer.
At the transport layer there are two main protocols in use: <strong>Transmission Control Protocol (TCP)</strong> and <strong>User Datagram Protocol (UDP)</strong>.
More about them in just a bit.</p><p>The transport layer accepts <strong>messages</strong> from the application layer as application data.
It does not care if this data is part of the connection setup process, actual data to be transferred, or some other control message.
It just sees the data as a bunch of bytes to be transported to the receiving end&#x27;s transport layer.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ports">Ports<a class="hash-link" href="#ports" title="Direct link to heading">​</a></h3><p>Generally speaking, ports are endpoints used for communication.
They have no physical correspondence, but are merely logical concepts used to segregate between different processes, all running on the same host.</p><p>A port is a 16-bit number used in order to identify multiple network-using processes <strong>on the same host</strong>.
Notice that with IPs we were talking about identifying <em>hosts</em> whereas now we&#x27;ve increased the granularity and are talking about <em>processes</em>
As a result, when a sender process wants to connect to another process (the receiver), it must specify both the port it&#x27;s currently using and the port used by the receiver.</p><p>Since ports are numbers up to <code>2^16</code>, this means there are 65536 of them.
This number is enough, given that it&#x27;s meant to encompass the network-using processes in the system.
However, not all of them are available for your average network application.
The <strong>first 1024 (port numbers 0 to 1023)</strong> of them are reserved for common system applications and services.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tcp">TCP<a class="hash-link" href="#tcp" title="Direct link to heading">​</a></h3><p>The &quot;Control&quot; word in this protocol&#x27;s name should give us a hint that TCP is about handling various errors that may occur while a packet is traversing the Internet.
For this reason, TCP keeps track of the amount of data it sends and ensures it arrives in order (by buffering any out-of-order packets).
This type of tracking is made possible by the use of <strong>sequence numbers (<code>Seq</code>)</strong>.
In addition, the receiver sends a special message whenever it gets a segment.
This message is called <strong>acknowledgement (ACK)</strong>.
Each ACK is sent together with an <strong>ACK number</strong>.
This number signifies the amount of bytes received so far by the host.
It is used by the sender to figure out what portion of the data to send as part of the next segment.</p><p><img loading="lazy" alt="TCP ACKs in Action" src="/essentials-security/7/assets/images/tcp_ack_model-7fa0148027570ea3208dcb6b51ca468f.webp" width="538" height="756" class="img_ev3q"></p><p>In the above diagram we can see that the sender (client) adds some bytes (whose length is specified as <code>Len</code>) to those already sent.
At the same time, the receiver (server) adds the newly arrived bytes to those received previously and sends this number back to the client as the ACK number.</p><p>But some segments might arrive altered (some of their bits may be changed).
TCP adds what&#x27;s called a <strong>checksum</strong> to each packet.
This checksum is computed by <code>xor</code>-ing all bytes in the segment.
When a segment is received, its checksum is recomputed and compared to the one contained within it.
If the two checksums differ, the receiver notifies the sender by sending a <strong>not ACK (NACK)</strong> segment instead of an ACK.
Upon receiving a NACK, the sender <strong>retransmits</strong> the segment.
The same mechanism is employed for segments that do not make it to the receiver.</p><p>In short, TCP makes sure that whatever is sent is received completely and correctly.
This feature is obviously important.
As a result, TCP is used for the transport-layer in the following application-level protocols and scenarios:</p><ul><li><strong>SMTP (Simple Mail Transfer Protocol)</strong>, <strong>IMAP (Internet Access Message Protocol)</strong> and <strong>POP3 (Post Office Protocol version 3)</strong>: the main protocols used by email services worldwide.</li><li><strong>HTTP/HTTPS (HyperText Transfer Protocol / Secured)</strong>: the most popular protocol used to transfer web pages.
By default, HTTP uses port 80 and HTTPS uses port 443.</li><li><strong>SSH (Secure Shell)</strong>: a widely used protocol for obtaining a remote shell on another machine.</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="ssh">SSH<a class="hash-link" href="#ssh" title="Direct link to heading">​</a></h4><p>We&#x27;ve been using <code>ssh</code> to connect to the remote machines used for challenges and tutorials.
Now we know it is a protocol used for connecting to remote hosts via a shell.
It opens a TCP connection to the remote host, where each character typed in the terminal is sent to the receiving host.</p><p>As its name suggests, the gist of this protocol is <strong>secured</strong>.
The security implies that the characters are not sent to the receiver as plain text, but are <strong>encrypted</strong>.
While we&#x27;ll discuss more about encryption in the <a href="/essentials-security/7/Demystifying the Web/data-security">Data Security</a> session, it is important that we outline the main workings of encryption.</p><p>Upon initiating the SSH connection, an encryption algorithm is negociated between the communicating hosts.
This algorithm performs two operations: encryption and decryption</p><ul><li><strong>Encryption</strong> transforms data (either keys pressed by the sender, or the output from the receiver) into bytes that look random (i.e. one cannot distingush an encrypted text and a random set of bytes).</li><li><strong>Decryption</strong> performs the opposite operation: turns encrypted bytes into plain text.</li></ul><p>The typical <code>ssh</code> command looks like this:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ssh user@ip </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>For example:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ssh student@141.85.224.100</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>By default, SSH uses port 22.
We can specify another port by using the <code>-p</code> parameter like so:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ssh user@ip -p port</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>This is what you&#x27;ve been doing for the last 2 sessions in order to log onto our machines and solve challenges:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@kali:~# ssh ctf@ip -p &lt;some_number&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>What you did is you created an SSH conection using a custom port which did not open a shell onto our full machines, but onto an individual <a href="#containers">container</a> that was hosting each challenge.
Think of a container as a lighter, albeit less secure VM.
The architecture looks like this:</p><p><img loading="lazy" alt="Challenge Hosting Architecture" src="/essentials-security/7/assets/images/challenge_hosting_architecture-c7dd58c9ceda8aae1f9ee57a0cc7129c.svg" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="udp">UDP<a class="hash-link" href="#udp" title="Direct link to heading">​</a></h3><p>We said TCP guarantees the correctness of the delivered data, which is great.
This guarantee, however, comes at the cost of performance.
In the picture above, we saw how ACKs are transmitted.
This mechanism causes a significant temporal overhead, that we sometimes simply cannot afford.
There are services that need to transfer data really fast and, thus, they forgo the need for <strong>datagram</strong> correctness.
As the protocol&#x27;s name suggests, UDP messages are called datagrams.
If a received packet is incorrect or if it&#x27;s missing, well... too bad.
Life moves on... to the next packet and so on.
So applications usually simply discard incorrect or missing UDP datagrams.
In case you were wondering, UDP also computes the checksum, but provides no mechanism for error handling.
It&#x27;s up to the application layer to deal with them.</p><p>In short, with UDP, the sender just sends its datagrams to the receiver.
Some might arrive out of order, or corrupted, but this is entirely the receiver&#x27;s problem.</p><p>Moreover, with the wide implementation of optical fiber around the world, the possibility of datagrams being lost or corrupted has dropped to almost 0.
For this reason, UDP is mostly used for streaming services:</p><ul><li>YouTube</li><li>Netflix</li><li>Discord</li><li>Spotify</li><li>PornHub</li></ul><p>Since an image is worth 1000 words, here&#x27;s a summary of TCP and UDP:</p><p><img loading="lazy" alt="TCP vs UDP" src="/essentials-security/7/assets/images/tcp_vs_udp-11915d73a4a94a35d49987ff7c245f79.jpg" width="460" height="386" class="img_ev3q"></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="the-application-layer">The Application Layer<a class="hash-link" href="#the-application-layer" title="Direct link to heading">​</a></h2><p>The layer that is the closest to the user, the application layer is also the one that is hardest to define, since it denotes all network applications.
So we&#x27;ll try to list but a few examples of applications.
We&#x27;ve already mentioned some of them in the <a href="#tcp">TCP</a> and <a href="#udp">UDP</a> sections.</p><p>In essence, every app that you use, and which has anything to do with the Internet, is implemented at the application layer.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="netstat"><code>netstat</code><a class="hash-link" href="#netstat" title="Direct link to heading">​</a></h3><p>Netstat is a complex service used for inspecting various networking-related data.
We&#x27;ll be using it to list the services running on a host.
Now let&#x27;s test our own Kali Linux host.</p><p>List all running services.
The <code>-a</code> parameter stands for &quot;all&quot;.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@kali:~# netstat -a | less</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>That&#x27;s quite a lot of them.
Let&#x27;s trim them down a bit.
For example, let&#x27;s only list the services running TCP connections.
The <code>-t</code> parameter stands for &quot;TCP&quot;.
Notice how we can concatenate parameters.
<code>-a -t</code> is equivalent to <code>-at</code> or <code>-ta</code>.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@kali:~# netstat -at | less</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Similarly, we can query all services using UDP connections:
As you might have guessed, UDP connections are listed using the <code>-u</code> parameter.</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">root@kali:~# netstat -au  # no need for `less` anymore</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now let&#x27;s look for <strong>servers</strong> specifically.
Usually a server waits for clients to connect to it and send requests.
We say the server <strong>listens</strong> for connections.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="challenge---who-is-111">Challenge - Who is 111?<a class="hash-link" href="#challenge---who-is-111" title="Direct link to heading">​</a></h3><p>Use the <code>netstat</code>&#x27;s <code>man</code> page and find the <strong>name of the program</strong> that listens on port <em>111</em>.
The flag of this challenge does <strong>not</strong> respect the format <code>SSS{...}</code>.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="wrap-up">Wrap-up<a class="hash-link" href="#wrap-up" title="Direct link to heading">​</a></h2><p>The network stack up to and including the transport layer is implemented by the kernel of most operating systems.
This passes the burden of handling the lower layers of the TCP/IP stack to the OS, leaving the main logic to the application.
This is also helped by the fact that the protocols at the link, internet and transport layers are highly standardised, while there are no real constraints to how applications define protocols they use internally.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="summary">Summary<a class="hash-link" href="#summary" title="Direct link to heading">​</a></h2><p>We&#x27;ve used a lot of acronymes during this session.
Here they are explained once more, in case you missed some of them:</p><ul><li><strong>ACK:</strong> Acknowledgement</li><li><strong>(D)DoS:</strong> (Distributed) Denial of Service</li><li><strong>DHCP:</strong> Dynamic Host Configuration Protocol</li><li><strong>DNS:</strong> Domain Name System</li><li><strong>HTML:</strong> HyperText Markup Language</li><li><strong>HTTP(S):</strong> HyperText Transfer Protocol (Secured)</li><li><strong>ICMP:</strong> Internet Control Message Protocol</li><li><strong>IMAP:</strong> Internet Access Message Protocol</li><li><strong>IP:</strong> Internet Protocol</li><li><strong>ISP:</strong> Internet Service Provider</li><li><strong>LAN:</strong> Local Area Network</li><li><strong>MAC:</strong> Media Access Control</li><li><strong>NACK:</strong> Not Acknowledged</li><li><strong>NIC:</strong> Network Interface Card</li><li><strong>OSI:</strong> Open Systems Interconnection</li><li><strong>POP3:</strong> Post Office Protocol version 3</li><li><strong>RTT:</strong> Round-Trip Time</li><li><strong>SMTP:</strong> Simple Mail Transfer Protocol</li><li><strong>SSH:</strong> Secure Shell</li><li><strong>TCP:</strong> Transmission Control Protocol</li><li><strong>TLD:</strong> Top-Level Domain</li><li><strong>UDP:</strong> User Datagrem Protocol</li><li><strong>URI:</strong> Uniform Resource Identifier</li><li><strong>URL:</strong> Uniform Resource Locator</li></ul><p>Here&#x27;s a short summary of the layers of the TCP/IP stack:</p><ul><li><strong>Link:</strong> Provides us with direct connections to other hosts.
Also adds identifiers to NICs in the form of MAC addresses.</li><li><strong>Internet:</strong> Provides routing and identifiers for hosts in the Internet, in the form of IP addresses.</li><li><strong>Transport:</strong> Provides connections between processes on different hosts by using ports.</li><li><strong>Application:</strong> Composes the actual message to be delivered to the receiver.</li></ul><p>Finally, let&#x27;s map some of the layers of the TCP/IP stack to the CLI tools we use for each of them:</p><ul><li><strong>Internet:</strong><ul><li><code>ping</code></li><li><code>dig</code></li></ul></li><li><strong>Transport:</strong><ul><li><code>ssh</code></li><li><code>netcat</code></li></ul></li><li><strong>Application:</strong><ul><li><code>netstat</code> (although it has <a href="https://linux.die.net/man/8/netstat" target="_blank" rel="noopener noreferrer">many other uses</a>)</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="activities">Activities<a class="hash-link" href="#activities" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="challenge---they-see-me-running">Challenge - They See Me Running<a class="hash-link" href="#challenge---they-see-me-running" title="Direct link to heading">​</a></h3><p>There&#x27; s a quiz server running on the remote host.
Find the port on which the server is listening.
Then use <code>netcat</code> (<code>nc</code>) to &quot;talk&quot; to the server and answer its questions.
Upon a correct answer, the server will give you a flag.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="challenge---unaccessible">Challenge - Unaccessible<a class="hash-link" href="#challenge---unaccessible" title="Direct link to heading">​</a></h3><p>Connect to the remote host via <code>ssh</code> as user <code>vuln</code> and get the flag.
If only you knew the password.
Up to now, the password was always <code>ctf</code>.
This time, you have to find it yourselv
The file <code>password.txt</code> that contains the MD5 hash of the password.
You can paste it on <a href="https://crackstation.net/" target="_blank" rel="noopener noreferrer">crackstation</a>, but real hackers use <a href="https://github.com/openwall/john" target="_blank" rel="noopener noreferrer">John the Ripper</a>.
Don&#x27;t chicken out and crack the password using <code>john</code>.
We&#x27;ll come back to <code>john</code> when we discuss <a href="/essentials-security/7/Demystifying the Web/data-security/">Data Security</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="challenge---pinger">Challenge - Pinger<a class="hash-link" href="#challenge---pinger" title="Direct link to heading">​</a></h3><p>The service can ping any IP by running the follwing command:</p><div class="codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">$ ping -c 1 &lt;your input&gt;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since your input is given directly to a shell command, you can be creative with how you use it.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further Reading<a class="hash-link" href="#further-reading" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-osi-stack">The OSI Stack<a class="hash-link" href="#the-osi-stack" title="Direct link to heading">​</a></h3><p>In the session, we discussed the TCP/IP stack, which is implemented by the kernel of every Operating System (Linux included).
In the early days of the Internet, however, another model was popular.
This was the <strong>OSI Model</strong>.
As a matter of fact, it&#x27;s still a popular model for teaching about the internet, because it makes a more rigorous separation of what we called the Application Layer.
This layer is split into 3, and the transmission medium is added as a separate physical layer, thus resulting a 7-layer stack.
You can learn about this alternative stack <a href="https://www.imperva.com/learn/application-security/osi-model/" target="_blank" rel="noopener noreferrer">here</a>, but keep in mind that it is almost never used in practice.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="the-networking-bible">The Networking Bible<a class="hash-link" href="#the-networking-bible" title="Direct link to heading">​</a></h3><p>Speaking of the OSI model, it is paramount that we mention the most influential book in computer networking to this day, namely Andrew Tanenbaum&#x27;s <a href="http://index-of.es/Varios-2/Computer%20Networks%205th%20Edition.pdf" target="_blank" rel="noopener noreferrer">Computer Networks</a>.
Dating from 1981 (about the time these stacks were first defined), this book has been the cornerstone of networking ever since.
It&#x27;s a must-read for every netoworking enthusiast.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="icmp">ICMP<a class="hash-link" href="#icmp" title="Direct link to heading">​</a></h3><p>The protocol used by <code>ping</code> is called <strong>Internet Control Message Protocol (ICMP)</strong>.
The protocol defines a set of <em>utility</em> messages and responses, used by hosts in order to check the status of other hosts. </p><p>There is also a very well-known attack, called <strong>Distributed Denial of Service (DDoS)</strong>, by which an attacker floods a server with <code>ping</code>s essentially.
The purpose of this attack is to overwhelm the server by making it do nothing else but respond to these <code>pings</code>, rather than serve the actual requests for which it was designed.
Thus, this type of attack aims to render a server useless, or even make it crash.
The attack has been executed in many forms, with one of the simplest being described <a href="https://www.cloudflare.com/learning/ddos/glossary/internet-control-message-protocol-icmp/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="url-vs-uri">URL vs URI<a class="hash-link" href="#url-vs-uri" title="Direct link to heading">​</a></h3><p>This session you&#x27;ve learned about <em>URL</em>s, but you might have also heard about <em>URI</em>s.
They&#x27;re quite similar, but still different.
<a href="https://danielmiessler.com/study/difference-between-uri-url/" target="_blank" rel="noopener noreferrer">Here</a>&#x27;s the difference explained.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="ipv6">IPv6<a class="hash-link" href="#ipv6" title="Direct link to heading">​</a></h3><p>Since regular IPs (also known as <strong>IPv4</strong>) are 32-bit numbers, there are <code>2^32</code> possible unique IPs.
This number may look large, but it&#x27;s <em>just</em> 4,294,967,296, so just upwards of 4 billion.
But the world&#x27;s population is 7.9 billion as of September 2021, and growing.
The pigeonhole principle tells us there are not enough IPs so that every human can be connected to the Internet at the same time.</p><p>For this reason and some others related to the lack of native security of the IP protocol, a new iteration of IPs was designed: <strong>IPv6</strong>.
These new IPs are 128-bit numbers.
<code>2^128</code> is 39 <strong>digits</strong> long, so it should suffice for the entirety of Earth&#x27;s population (a few times over).</p><p>For a better (but still short) introduction to IPv6, check out <a href="http://www.steves-internet-guide.com/ipv6-guide/" target="_blank" rel="noopener noreferrer">this</a> source.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dhcp">DHCP<a class="hash-link" href="#dhcp" title="Direct link to heading">​</a></h3><p><strong>Dynamic Host Configuration Protocol (DHCP)</strong> is a protocol used in order to manage and distribute IP addresses.
Hosts are <em>leased</em> IP addresses from DHCP servers for a limited amount of time.
When an address is about to expire, a host can ask the server to extend the lease.
You can read more about DHCP servers <a href="https://www.infoblox.com/glossary/dhcp-server/" target="_blank" rel="noopener noreferrer">here</a>.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="containers">Containers<a class="hash-link" href="#containers" title="Direct link to heading">​</a></h3><p>The main difference between containers and VMs is that VMs use their own separate OS, whereas containers share the OS with the host.
Think about your Kali Linux VM.
It obviously has a separate OS: Kali Linux, duh, while you have your own OS: Windows, Linux, MacOS, whatever.
The operating system inside the VM is called <strong>guest OS</strong>, while the &quot;outer&quot; OS is called <strong>host OS</strong>.
When it comes to VMs, you need some sort of <em>mediator</em> between the guest and the host.
This mediator is called <strong>a hypervisor</strong>.
In your case, this is VirtualBox.</p><p>This separation between OSs ensures a more secure separation between the two environments.
On the other hand, if a host spawns multiple containers, all of them (host and containers) use the host&#x27;s OS.
The containers are most importantly separated at the filesystem level.
They can also be allocated more limited resources.
Notice that if you were to use a container for the Security Summer School, you couldn&#x27;t use Kali Linux unless your host OS were also Kali Linux, which would have been pretty pointless.</p><p><img loading="lazy" alt="Containers vs VMs" src="/essentials-security/7/assets/images/containers-vs-virtual-machines-53686ec2856820b13cfb70c76215832b.png" width="900" height="548" class="img_ev3q"></p><p>However, we use containers to host challenges because our VMs and containers all use Linux and because we can house more containers on the same host (which is itself a VM) than we could VMs.
You can learn more about containers and how to manage them using <code>docker</code> (we also use it for challenges) <a href="https://www.docker.com/resources/what-container/" target="_blank" rel="noopener noreferrer">here</a>.</p></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/essentials-security/7/Demystifying the Web/Explaining the Internet/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Explaining the Internet</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/essentials-security/7/Demystifying the Web/Re-Discovering the Browser/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Re-Discovering the Browser</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#reminders-and-prerequisites" class="table-of-contents__link toc-highlight">Reminders and Prerequisites</a></li><li><a href="#a-general-overview-of-the-internet" class="table-of-contents__link toc-highlight">A General Overview of the Internet</a><ul><li><a href="#encapsulation" class="table-of-contents__link toc-highlight">Encapsulation</a></li><li><a href="#a-bit-of-nomenclature" class="table-of-contents__link toc-highlight">A Bit of Nomenclature</a></li></ul></li><li><a href="#the-medium" class="table-of-contents__link toc-highlight">The Medium</a></li><li><a href="#the-link-layer" class="table-of-contents__link toc-highlight">The Link Layer</a></li><li><a href="#the-internet-layer" class="table-of-contents__link toc-highlight">The Internet Layer</a><ul><li><a href="#routers" class="table-of-contents__link toc-highlight">Routers</a></li><li><a href="#ip-addresses" class="table-of-contents__link toc-highlight">IP Addresses</a></li><li><a href="#urls" class="table-of-contents__link toc-highlight">URLs</a></li><li><a href="#the-domain-name-system" class="table-of-contents__link toc-highlight">The Domain Name System</a></li></ul></li><li><a href="#the-transport-layer" class="table-of-contents__link toc-highlight">The Transport Layer</a><ul><li><a href="#ports" class="table-of-contents__link toc-highlight">Ports</a></li><li><a href="#tcp" class="table-of-contents__link toc-highlight">TCP</a></li><li><a href="#udp" class="table-of-contents__link toc-highlight">UDP</a></li></ul></li><li><a href="#the-application-layer" class="table-of-contents__link toc-highlight">The Application Layer</a><ul><li><a href="#netstat" class="table-of-contents__link toc-highlight"><code>netstat</code></a></li><li><a href="#challenge---who-is-111" class="table-of-contents__link toc-highlight">Challenge - Who is 111?</a></li></ul></li><li><a href="#wrap-up" class="table-of-contents__link toc-highlight">Wrap-up</a></li><li><a href="#summary" class="table-of-contents__link toc-highlight">Summary</a></li><li><a href="#activities" class="table-of-contents__link toc-highlight">Activities</a><ul><li><a href="#challenge---they-see-me-running" class="table-of-contents__link toc-highlight">Challenge - They See Me Running</a></li><li><a href="#challenge---unaccessible" class="table-of-contents__link toc-highlight">Challenge - Unaccessible</a></li><li><a href="#challenge---pinger" class="table-of-contents__link toc-highlight">Challenge - Pinger</a></li></ul></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further Reading</a><ul><li><a href="#the-osi-stack" class="table-of-contents__link toc-highlight">The OSI Stack</a></li><li><a href="#the-networking-bible" class="table-of-contents__link toc-highlight">The Networking Bible</a></li><li><a href="#icmp" class="table-of-contents__link toc-highlight">ICMP</a></li><li><a href="#url-vs-uri" class="table-of-contents__link toc-highlight">URL vs URI</a></li><li><a href="#ipv6" class="table-of-contents__link toc-highlight">IPv6</a></li><li><a href="#dhcp" class="table-of-contents__link toc-highlight">DHCP</a></li><li><a href="#containers" class="table-of-contents__link toc-highlight">Containers</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://security.cs.pub.ro/summer-school/wiki/" target="_blank" rel="noopener noreferrer" class="footer__link-item">OCW<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/SSSUPB/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 SSS Team</div></div></div></footer></div>
<script src="/essentials-security/7/assets/js/runtime~main.b60cf3d9.js"></script>
<script src="/essentials-security/7/assets/js/main.d95fb9c1.js"></script>
</body>
</html>