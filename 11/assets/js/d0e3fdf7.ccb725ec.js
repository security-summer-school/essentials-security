"use strict";(self.webpackChunkessentials_security=self.webpackChunkessentials_security||[]).push([[1732],{5680:(e,t,n)=>{n.d(t,{xA:()=>p,yg:()=>d});var a=n(6540);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function i(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=a.createContext({}),h=function(e){var t=a.useContext(l),n=t;return e&&(n="function"==typeof e?e(t):s(s({},t),e)),n},p=function(e){var t=h(e.components);return a.createElement(l.Provider,{value:t},e.children)},g="mdxType",m={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},c=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,l=e.parentName,p=i(e,["components","mdxType","originalType","parentName"]),g=h(n),c=r,d=g["".concat(l,".").concat(c)]||g[c]||m[c]||o;return n?a.createElement(d,s(s({ref:t},p),{},{components:n})):a.createElement(d,s({ref:t},p))}));function d(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,s=new Array(o);s[0]=c;var i={};for(var l in t)hasOwnProperty.call(t,l)&&(i[l]=t[l]);i.originalType=e,i[g]="string"==typeof e?e:r,s[1]=i;for(var h=2;h<o;h++)s[h]=n[h];return a.createElement.apply(null,s)}return a.createElement.apply(null,n)}c.displayName="MDXCreateElement"},1826:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>m,frontMatter:()=>o,metadata:()=>i,toc:()=>h});var a=n(8168),r=(n(6540),n(5680));const o={linkTitle:"03. Explaining the Internet",type:"docs",weight:10},s="Explaining the Internet",i={unversionedId:"Demystifying the Web/Explaining the Internet/README",id:"Demystifying the Web/Explaining the Internet/README",title:"Explaining the Internet",description:"Introduction",source:"@site/docs/Demystifying the Web/Explaining the Internet/README.md",sourceDirName:"Demystifying the Web/Explaining the Internet",slug:"/Demystifying the Web/Explaining the Internet/",permalink:"/essentials-security/11/Demystifying the Web/Explaining the Internet/",draft:!1,tags:[],version:"current",frontMatter:{linkTitle:"03. Explaining the Internet",type:"docs",weight:10},sidebar:"sidebar",previous:{title:"Explaining the Internet",permalink:"/essentials-security/11/Demystifying the Web/Explaining the Internet/"},next:{title:"Re-Discovering the Browser",permalink:"/essentials-security/11/Demystifying the Web/Re-Discovering the Browser/"}},l={},h=[{value:"Introduction",id:"introduction",level:2},{value:"Reminders and Prerequisites",id:"reminders-and-prerequisites",level:2},{value:"A General Overview of the Internet",id:"a-general-overview-of-the-internet",level:2},{value:"Encapsulation",id:"encapsulation",level:3},{value:"A Bit of Nomenclature",id:"a-bit-of-nomenclature",level:3},{value:"The Medium",id:"the-medium",level:2},{value:"The Link Layer",id:"the-link-layer",level:2},{value:"The Internet Layer",id:"the-internet-layer",level:2},{value:"Routers",id:"routers",level:3},{value:"IP Addresses",id:"ip-addresses",level:3},{value:"<code>ping</code>",id:"ping",level:4},{value:"URLs",id:"urls",level:3},{value:"Anatomy of a URL",id:"anatomy-of-a-url",level:4},{value:"The Domain Name System",id:"the-domain-name-system",level:3},{value:"The Recursive Resolver",id:"the-recursive-resolver",level:4},{value:"The Root Server",id:"the-root-server",level:4},{value:"The Top-Level Domain Name Server",id:"the-top-level-domain-name-server",level:4},{value:"The Authoritative Name Server(s)",id:"the-authoritative-name-servers",level:4},{value:"Putting it Together",id:"putting-it-together",level:4},{value:"<code>host</code>",id:"host",level:4},{value:"The Transport Layer",id:"the-transport-layer",level:2},{value:"Ports",id:"ports",level:3},{value:"TCP",id:"tcp",level:3},{value:"SSH",id:"ssh",level:4},{value:"UDP",id:"udp",level:3},{value:"The Application Layer",id:"the-application-layer",level:2},{value:"<code>netstat</code>",id:"netstat",level:3},{value:"Challenge - Who is 111?",id:"challenge---who-is-111",level:3},{value:"Wrap-up",id:"wrap-up",level:2},{value:"Summary",id:"summary",level:2},{value:"Activities",id:"activities",level:2},{value:"Challenge - They See Me Running",id:"challenge---they-see-me-running",level:3},{value:"Challenge - Unaccessible",id:"challenge---unaccessible",level:3},{value:"Challenge - Pinger",id:"challenge---pinger",level:3},{value:"Further Reading",id:"further-reading",level:2},{value:"The OSI Stack",id:"the-osi-stack",level:3},{value:"The Networking Bible",id:"the-networking-bible",level:3},{value:"ICMP",id:"icmp",level:3},{value:"URL vs URI",id:"url-vs-uri",level:3},{value:"IPv6",id:"ipv6",level:3},{value:"DHCP",id:"dhcp",level:3},{value:"Containers",id:"containers",level:3}],p={toc:h},g="wrapper";function m(e){let{components:t,...o}=e;return(0,r.yg)(g,(0,a.A)({},p,o,{components:t,mdxType:"MDXLayout"}),(0,r.yg)("h1",{id:"explaining-the-internet"},"Explaining the Internet"),(0,r.yg)("h2",{id:"introduction"},"Introduction"),(0,r.yg)("p",null,"In this session, we'll discuss some networking fundamentals.\nBy doing so, we'll lay the foundations for some of our later sessions regarding networking and the Internet, such as ",(0,r.yg)("a",{parentName:"p",href:"../rediscovering-the-browser"},"(Re)Discovering the Browser"),"\nand ",(0,r.yg)("a",{parentName:"p",href:"../hacking-the-web"},"Hacking the Web"),"."),(0,r.yg)("p",null,"Moreover, we'll explain what happens when you access a URL (we'll also learn how to do this from our terminals).\nLast but not least, we'll see what those ",(0,r.yg)("inlineCode",{parentName:"p"},"ssh")," commands you've been using in order to solve the remote challenges mean."),(0,r.yg)("h2",{id:"reminders-and-prerequisites"},"Reminders and Prerequisites"),(0,r.yg)("p",null,"For this session, you'll need:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"a working internet connection;"),(0,r.yg)("li",{parentName:"ul"},"a Linux environment that you're comfortable working with;"),(0,r.yg)("li",{parentName:"ul"},"to understand what a ",(0,r.yg)("em",{parentName:"li"},"process")," is;"),(0,r.yg)("li",{parentName:"ul"},"general knowledge of the Linux CLI, as discussed in session ",(0,r.yg)("a",{parentName:"li",href:"../welcome-to-linux"},"Welcome to Linux"),".")),(0,r.yg)("h2",{id:"a-general-overview-of-the-internet"},"A General Overview of the Internet"),(0,r.yg)("p",null,"Before learning how to use and, later, how to hack the Internet, let's first understand its building blocks.\nThe Internet is all about sending data to and from an enormous amount of hosts."),(0,r.yg)("p",null,"In order to learn how all of this works, let's start from the example below.\nIt's generic enough for it to be relatable to most networking scenarios.\nYet, it encompasses everything we need to talk about."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Network Stack",src:n(2867).A,width:"730",height:"660"})),(0,r.yg)("p",null,"So what happens here is that the computer on the left is trying to ",(0,r.yg)("strong",{parentName:"p"},"send")," data to the one on the right.\nWe call the left computer ",(0,r.yg)("strong",{parentName:"p"},"the sender")," and the right one ",(0,r.yg)("strong",{parentName:"p"},"the receiver"),".\nThe two computers are connected via a ",(0,r.yg)("strong",{parentName:"p"},"medium")," on which the actual bits of data that make up the communication are sent.\nIn short, this medium is the connection between the aforementioned computers."),(0,r.yg)("p",null,"However, there are 4 boxes above the aforementioned medium.\nThese boxes are altogether known as ",(0,r.yg)("strong",{parentName:"p"},"The TCP/IP Network Stack"),".\nWe'll see what's with the ",(0,r.yg)("em",{parentName:"p"},"TCP/IP")," part soon enough.\nIndividually, each box is a ",(0,r.yg)("strong",{parentName:"p"},"layer"),".\nHere are the 4 layers of the TCP/IP stack:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"The TCP/IP Network Stack",src:n(3736).A,width:"700",height:"360"})),(0,r.yg)("p",null,"Each layer provides a well-defined set of requirements, which are fulfilled by ",(0,r.yg)("strong",{parentName:"p"},"protocols"),".\nA networking protocol is a set of rules that define the communication (data formatting and processing) between the same two levels of the network stack.\nFor example, there are protocols for the transport layer, others for the link layer and so on.\nWe'll talk about them in a bit."),(0,r.yg)("h3",{id:"encapsulation"},"Encapsulation"),(0,r.yg)("p",null,"Each layer takes care of a specific requirement of networking, as we'll discuss shortly.\nWhen sending data, each of the layers in the TCP/IP model accepts data from the layer above (or from the user in the case of the application layer), and adds additional information to the data that is necessary for that layer to carry out its task.\nIn some cases, the original data may be processed in some way before the additional information is added.\nFor example, it might be encrypted.\nThe layer then passes this data on to the layer below (or onto the transmission medium in the case of the link layer)."),(0,r.yg)("p",null,"The arrival of data from an upper layer may trigger additional separate messages to be sent to the receiving end.\nFor instance, if the data needed to be encrypted, the layer that carries out the encryption has to exchange initial setup messages with the receiving end to agree the encryption method and other data that we'll touch on in the session ",(0,r.yg)("a",{parentName:"p",href:"../data-security"},"Data Security"),", before the encrypted data can be transferred."),(0,r.yg)("p",null,"At the receiving end, the process happens in reverse: each layer accepts data from the layer below, inspects and removes the additional information added on by the corresponding layer in the sending end, before passing it up to the layer above."),(0,r.yg)("p",null,"Data is passed from a sender process to a receiver process by using the services of the layer below.\nIt is only the final layer that actually causes the data to be transmitted onto the transmission media (e.g. cable). Below is a representation of this whole mechanism."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"General Workings of a Network Stack Layer",src:n(7733).A,width:"500",height:"320"})),(0,r.yg)("p",null,"This method of modular communication is called ",(0,r.yg)("strong",{parentName:"p"},"encapsulation"),".\nIt can be likened to taking the data from the layer above and placing it in an ",(0,r.yg)("strong",{parentName:"p"},"envelope"),", writing some additional information on the envelope, then passing the envelope to the layer below.\nAt the receiving end, a layer is passed an envelope from the layer below.\nIt looks at the data on the outside of the envelope to decide what to do with the contents of the envelope.\nIt then opens the envelope and passes the contained data up to the next level. The reverse of encapsulation is ",(0,r.yg)("strong",{parentName:"p"},"decapsulation"),".\nAfter a message has passed through the network stack, it ends up in a ",(0,r.yg)("em",{parentName:"p"},"matrioshka")," of envelopes, one for each layer, each with its own, specific information."),(0,r.yg)("h3",{id:"a-bit-of-nomenclature"},"A Bit of Nomenclature"),(0,r.yg)("p",null,"As we said previously, each of the layers of the TCP/IP model adds its own information to the data coming from the layer above.\nThis encapsulation at each layer results in a new structure effectively wrapping up the original data.\nEach of these has a specific name depending on the layer that creates it:"),(0,r.yg)("table",null,(0,r.yg)("thead",{parentName:"table"},(0,r.yg)("tr",{parentName:"thead"},(0,r.yg)("th",{parentName:"tr",align:"center"},"TCP/IP Layer"),(0,r.yg)("th",{parentName:"tr",align:"center"},"Name of data block produced by the layer"))),(0,r.yg)("tbody",{parentName:"table"},(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"Application"),(0,r.yg)("td",{parentName:"tr",align:"center"},"Application data (e.g. HTTP, HTTPS)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"Transport"),(0,r.yg)("td",{parentName:"tr",align:"center"},"Segments (TCP) or datagrams (UDP)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"Internet"),(0,r.yg)("td",{parentName:"tr",align:"center"},"Packets (e.g IP packet)")),(0,r.yg)("tr",{parentName:"tbody"},(0,r.yg)("td",{parentName:"tr",align:"center"},"Link"),(0,r.yg)("td",{parentName:"tr",align:"center"},"Frames (e.g. Ethernet frame)")))),(0,r.yg)("h2",{id:"the-medium"},"The Medium"),(0,r.yg)("p",null,"This layer is not mentioned in the above diagrams, but is worth talking a little bit about.\nThe medium represents the connection itself between the 2 stations.\nThis connection can be:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"wired"),": using a cable on which digital signals that encode the bits are sent"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"wireless"),": using high-frequency radio waves in order to send the same signals as before")),(0,r.yg)("h2",{id:"the-link-layer"},"The Link Layer"),(0,r.yg)("p",null,"This layer is also known as the ",(0,r.yg)("strong",{parentName:"p"},"Data Link")," layer."),(0,r.yg)("p",null,"It represents the underlying technology of any application.\nThe device on which the application is running may have a choice of many technologies to connect to a network, such as Ethernet, WiFi, Bluetooth, 4G, 5G (",(0,r.yg)("em",{parentName:"p"},"tinfoil hat off"),") etc.\nWhere more than one link exists, the operating system of the device chooses the most appropriate link.\nFor instance, a mobile phone might be connected to both 4G and WiFi.\nMost mobile phones prefer the WiFi connection, but remain connected to 4G mobile data, which they use as backup.\nHowever, in some cases the application itself may dictate the choice of link, e.g. the mobile phone may decide to send traffic over WiFi to avoid 4G data charges.\nOnce the link has been chosen, the appropriate link layer protocol is selected."),(0,r.yg)("p",null,"The most commonly used link layer protocol is ",(0,r.yg)("strong",{parentName:"p"},"Ethernet"),".\nWired or wireless Ethernet is used on most local area networks (LANs).\nThe packets from the internet layer are further encapsulated in Ethernet frames which are designed to be transported across a local network."),(0,r.yg)("p",null,"This layer needs a means to identify local stations.\nThis is where the ",(0,r.yg)("strong",{parentName:"p"},"Media Access Control (MAC) addresses")," come in.\nThey are 48 bits long and are unique to a specific ",(0,r.yg)("strong",{parentName:"p"},"Network Interface Card (NIC)"),".\nThe MAC address is physically tied to the hardware of the computer, which means it may also be referred to as the hardware or physical address."),(0,r.yg)("h2",{id:"the-internet-layer"},"The Internet Layer"),(0,r.yg)("p",null,"So each NIC has its own 48-bit MAC address.\nThis means there are ",(0,r.yg)("inlineCode",{parentName:"p"},"2^48")," unique MACs, which means ",(0,r.yg)("inlineCode",{parentName:"p"},"2^48")," unique NICs.\n",(0,r.yg)("inlineCode",{parentName:"p"},"2^48")," is a huge number, which is way beyond everything humanity has produced so far.\nSo, since we aren't likely to run out of MAC addresses any time soon, a host can be easily identified in the Internet via its MAC, right?\nYes, it can."),(0,r.yg)("p",null,"There is one problem, though.\nSuppose the sender is in the US and the receiver is in India.\nThere's no way you can connect these two hosts using the same medium.\nYou need some intermediaries: ",(0,r.yg)("strong",{parentName:"p"},"routers"),"."),(0,r.yg)("h3",{id:"routers"},"Routers"),(0,r.yg)("p",null,"It is impossible to connect your PC / laptop directly (physically) to every PC or server in the world.\nTherefore, we need ",(0,r.yg)("strong",{parentName:"p"},"networks"),", which are basically aggregations of hosts (servers, PCs, laptops, mobile phones etc.)."),(0,r.yg)("p",null,"Each network contains one ",(0,r.yg)("strong",{parentName:"p"},"router")," which sends data between the hosts in its network and those on other networks.\nSo a router is a networking device that connects two or more networks.\nThink of the router you most probably have at home.\nThere is a ",(0,r.yg)("em",{parentName:"p"},"local network"),", to which you can connect via WiFi, or Ethernet cables.\nYou're probably doing this right now.\nAnother network is the one provided by your Internet Service Provider (ISP)."),(0,r.yg)("p",null,"There are many ISPs around the world and even more local home networks.\nThe web thus becomes a ",(0,r.yg)("em",{parentName:"p"},"web of routers")," who transmit ",(0,r.yg)("strong",{parentName:"p"},"packets")," from one network to another.\nBack to our example above, you will surely need many routers to get a packet from the US to India."),(0,r.yg)("p",null,"But how does a router know how where to send a packet?\nLet's say a router R1 connects a laptop with IP 192.168.100.5 and a PC with IP 192.168.100.10 to the external network, as shown in the image below."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Router in Action",src:n(253).A})),(0,r.yg)("p",null,"Now let's look at 2 different scenarios:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"If the laptop sends a packet to IP ",(0,r.yg)("inlineCode",{parentName:"li"},"192.168.100.10"),", the router knows this address is part of its ",(0,r.yg)("strong",{parentName:"li"},"Local Area Network (LAN)")," and sends it directly to the PC."),(0,r.yg)("li",{parentName:"ol"},"If the PC sends a packet to ",(0,r.yg)("inlineCode",{parentName:"li"},"upb.ro")," (with IP ",(0,r.yg)("inlineCode",{parentName:"li"},"141.85.220.33"),"), the router sees its IP as an external address. Therefore, it passes it into the internet, where other routers take it and then pass it again to other routers and so on, until the packet reaches ",(0,r.yg)("inlineCode",{parentName:"li"},"upb.ro"),".")),(0,r.yg)("p",null,"Each new router that a packet encounters on its way from source to destination is called a ",(0,r.yg)("strong",{parentName:"p"},"hop"),".\nMost often, a hop is a router.\nIn order to visualise the hops that our requests to a well-known service, such as ",(0,r.yg)("inlineCode",{parentName:"p"},"google.com"),", we use the ",(0,r.yg)("inlineCode",{parentName:"p"},"traceroute")," command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"\u250c\u2500\u2500(kali\u327fkali)-[~]\n\u2514\u2500$ traceroute google.com\ntraceroute to google.com (142.250.185.206), 30 hops max, 60 byte packets\n 1  _gateway (10.0.2.2)  0.212 ms  0.123 ms  0.228 ms\n 2  10.20.21.254 (10.20.21.254)  2.815 ms  3.908 ms  3.838 ms\n 3  109.101.201.49 (109.101.201.49)  4.894 ms  4.971 ms  4.810 ms\n 4  193.231.103.0 (193.231.103.0)  9.634 ms  9.467 ms  9.359 ms\n 5  10.0.241.109 (10.0.241.109)  8.547 ms  9.129 ms  9.958 ms\n 6  * * *\n 7  10.0.240.194 (10.0.240.194)  59.356 ms  39.555 ms 10.0.200.6 (10.0.200.6)  39.579 ms\n 8  10.0.240.121 (10.0.240.121)  39.426 ms  39.373 ms  38.338 ms\n 9  92.87.30.10 (92.87.30.10)  42.521 ms  39.938 ms  41.795 ms\n10  * 10.252.185.126 (10.252.185.126)  40.778 ms *\n11  142.250.226.148 (142.250.226.148)  38.924 ms 172.253.73.152 (172.253.73.152)  41.083 ms 108.170.252.1 (108.170.252.1)  42.216 ms\n12  142.250.225.77 (142.250.225.77)  39.563 ms 108.170.252.18 (108.170.252.18)  40.317 ms 142.250.225.77 (142.250.225.77)  36.148 ms\n13  fra16s52-in-f14.1e100.net (142.250.185.206)  40.195 ms 209.85.242.79 (209.85.242.79)  39.355 ms 108.170.236.249 (108.170.236.249)  38.919 ms\n")),(0,r.yg)("p",null,"Let's explain the output.\nEach line represents a ",(0,r.yg)("strong",{parentName:"p"},"hop")," (i.e. a router) that a packet must pass through in order to reach ",(0,r.yg)("inlineCode",{parentName:"p"},"google.com"),".\nThe first number is the index of the hop.\nThe second is the ",(0,r.yg)("em",{parentName:"p"},"IP")," of the network.\nYou've probably heard about IPs before.\nWe'll demystify them in a bit.\n",(0,r.yg)("inlineCode",{parentName:"p"},"traceroute")," sends 3 packets, for consistency.\nIt counts the time it takes from sending each of these packets to the moment the response reaches the sender.\nThis time is called ",(0,r.yg)("strong",{parentName:"p"},"Round Trip Time (RTT)"),".\nAs we said, ",(0,r.yg)("inlineCode",{parentName:"p"},"traceroute")," sends and monitors 3 packets in order to display the consistency of the link to each hop."),(0,r.yg)("p",null,"The first hop is between the VM and the host.\nThe other is the router to which the host is connected.\nFrom then on, it's the wild Internet itself."),(0,r.yg)("h3",{id:"ip-addresses"},"IP Addresses"),(0,r.yg)("p",null,"IP addresses or, in short, ",(0,r.yg)("strong",{parentName:"p"},"IPs"),", are 32-bit (i.e. 4 bytes) numbers used to identify ",(0,r.yg)("strong",{parentName:"p"},"hosts"),".\nIP stands for ",(0,r.yg)("strong",{parentName:"p"},"Internet Protocol"),", which is the most widely used internet layer protocol.\nNotice the difference between IPs and MACs.\nWhile MACs are associated with NICs, IPs are associated with hosts.\nAnother difference is that whereas a MAC is unique to and engraved into the NIC, a host can change its IP more easily.\nWe won't go into this in today's session, but you can read about one such mechanism called ",(0,r.yg)("a",{parentName:"p",href:"#dhcp"},"DHCP"),". "),(0,r.yg)("p",null,"Of course you are free to express an IP address however you like, but by far the most common representation is to write each of its 4 bytes individually, in the decimal base, separated by a dot (",(0,r.yg)("inlineCode",{parentName:"p"},"."),").\nYou've already seen IP's when connecting to the remote hosts during the previous sessions.\nSome IPs are:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"8.8.8.8"),": is the address of Google's Public DNS Service.\nWe'll explain what the DNS is in a future ",(0,r.yg)("a",{parentName:"li",href:"#the-domain-name-system"},"section"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"69.63.176.13"),": is a common IP address used by Facebook"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"141.85.224.100"),": is IP the address of one of the machines in our CTF infrastructure")),(0,r.yg)("p",null,"In order to see the IP of your machine, run the following command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"\u250c\u2500\u2500(kali\u327fkali)-[~]\n\u2514\u2500$ ip address show\n1: lo: <LOOPBACK,UP,LOWER_UP> mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000\n    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00\n    inet 127.0.0.1/8 scope host lo\n       valid_lft forever preferred_lft forever\n    inet6 ::1/128 scope host \n       valid_lft forever preferred_lft forever\n2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP group default qlen 1000\n    link/ether 08:00:27:3c:2a:8d brd ff:ff:ff:ff:ff:ff\n    inet 10.0.2.15/24 brd 10.0.2.255 scope global dynamic noprefixroute eth0\n       valid_lft 86379sec preferred_lft 86379sec\n    inet6 fe80::262a:29ff:8129:db77/64 scope link noprefixroute \n       valid_lft forever preferred_lft forever\n")),(0,r.yg)("p",null,"Your output may differ slightly."),(0,r.yg)("p",null,"An IP address is associated with a ",(0,r.yg)("strong",{parentName:"p"},"network interface"),".\nThese interfaces can be virtual or physical (present on your NIC).\nIn your Kali VM, all interfaces are virtual."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"lo"))," is the ",(0,r.yg)("strong",{parentName:"p"},"loopback")," interface.\nIt's an internal interface that each host possesses.\nIts purpose is for testing the OS's TCP/IP stack.\nIts IP is, by convention ",(0,r.yg)("inlineCode",{parentName:"p"},"127.0.0.1"),", or ",(0,r.yg)("inlineCode",{parentName:"p"},"0.0.0.0"),"."),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},(0,r.yg)("inlineCode",{parentName:"strong"},"eth0"))," is the interface used to connect to the Internet.\nIt acts as a middleman between your host OS (the one in which you're running the VM) and the guest OS (Kali).\nIts status is ",(0,r.yg)("em",{parentName:"p"},"UP")," (i.e. it's running) and its IP address is ",(0,r.yg)("inlineCode",{parentName:"p"},"10.0.2.15"),"."),(0,r.yg)("p",null,"Notice the ",(0,r.yg)("inlineCode",{parentName:"p"},"/24")," part."),(0,r.yg)("h4",{id:"ping"},(0,r.yg)("inlineCode",{parentName:"h4"},"ping")),(0,r.yg)("p",null,"In order to test whether a host is up or down, we can ",(0,r.yg)("inlineCode",{parentName:"p"},"ping")," its IP.\n",(0,r.yg)("inlineCode",{parentName:"p"},"ping")," sends packets to the given host (IP or website) and reports whether the host responds or not.\nIf it responds, it's obviously alive.\nOtherwise... it's complicated.\nIt can either be dead itself, ",(0,r.yg)("strong",{parentName:"p"},"or there can be no route to it"),".\nIf we consider that the connection between us and our pinged host is ",(0,r.yg)("em",{parentName:"p"},"mediated")," by a chain of routers, as shown in the image above, if ",(0,r.yg)("strong",{parentName:"p"},"one")," of those routers is down and doesn't transmit packets, then we may be unable to reach the pinged host.\nSo a better wording is to say that when a host doesn't respond to pings, it's not necessarily ",(0,r.yg)("em",{parentName:"p"},"down"),", but merely ",(0,r.yg)("strong",{parentName:"p"},"unreachable"),".\nFrom a host's point of view though, it's irrelevant whether a host is down for real or not.\nAn unreachable host is as good as a dead one: ",(0,r.yg)("em",{parentName:"p"},"useless"),"."),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"localhost"),", in other words. the ",(0,r.yg)("inlineCode",{parentName:"p"},"lo")," interface, should ",(0,r.yg)("strong",{parentName:"p"},"always")," be up and respond to pings.\nIn case it doesn't, well... your kernel's TCP/IP stack may be broken.\nWe use the ",(0,r.yg)("inlineCode",{parentName:"p"},"-c 3"),' parameter to only send 3 "pings" to ',(0,r.yg)("inlineCode",{parentName:"p"},"localhost"),".\nOtherwise, ",(0,r.yg)("inlineCode",{parentName:"p"},"ping")," sends packets continuously, until stopped manually (with ",(0,r.yg)("inlineCode",{parentName:"p"},"ctrl + c"),")."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"\u250c\u2500\u2500(kali\u327fkali)-[~]\n\u2514\u2500$ ping -c 3 127.0.0.1\nPING 127.0.0.1 (127.0.0.1) 56(84) bytes of data.\n64 bytes from 127.0.0.1: icmp_seq=1 ttl=64 time=0.040 ms\n64 bytes from 127.0.0.1: icmp_seq=2 ttl=64 time=0.060 ms\n64 bytes from 127.0.0.1: icmp_seq=3 ttl=64 time=0.046 ms\n\n--- 127.0.0.1 ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2053ms\nrtt min/avg/max/mdev = 0.040/0.048/0.060/0.008 ms\n")),(0,r.yg)("p",null,(0,r.yg)("inlineCode",{parentName:"p"},"ping")," also tells us the RTT to the pinged host.\nNotice the very small times when pinging ourselves.\nThis makes sense, since there are no hops (routers) between a host and itself."),(0,r.yg)("p",null,"Now let's ping a remote server, say ",(0,r.yg)("inlineCode",{parentName:"p"},"google.com"),".\nWe can ",(0,r.yg)("inlineCode",{parentName:"p"},"ping")," either an IP or a URL."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"\u250c\u2500\u2500(kali\u327fkali)-[~]\n\u2514\u2500$ ping -c 3 google.com\nPING 8.8.8.8 (8.8.8.8) 56(84) bytes of data.\n64 bytes from 8.8.8.8: icmp_seq=1 ttl=63 time=39.0 ms\n64 bytes from 8.8.8.8: icmp_seq=2 ttl=63 time=50.1 ms\n64 bytes from 8.8.8.8: icmp_seq=3 ttl=63 time=44.6 ms\n\n--- 8.8.8.8 ping statistics ---\n3 packets transmitted, 3 received, 0% packet loss, time 2003ms\nrtt min/avg/max/mdev = 39.031/44.556/50.078/4.509 ms\n")),(0,r.yg)("p",null,"Now the RTTs are longer, because of the routing taking place between our VM and ",(0,r.yg)("inlineCode",{parentName:"p"},"google.com"),".\nThe more routers on the way, the longer the RTT."),(0,r.yg)("h3",{id:"urls"},"URLs"),(0,r.yg)("p",null,"In the above ",(0,r.yg)("inlineCode",{parentName:"p"},"ping")," command, we used ",(0,r.yg)("inlineCode",{parentName:"p"},"google.com")," instead of an IP.\nBut what exactly are strings such as ",(0,r.yg)("inlineCode",{parentName:"p"},"https://www.youtube.com")," or ",(0,r.yg)("inlineCode",{parentName:"p"},"https://www.google.com"),"?"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Uniform Resource Locators (URLs)")," are exactly what their name implies: addresses to given resources on the Web.\nThis means that each URL can point to ",(0,r.yg)("em",{parentName:"p"},"at most")," one resource (some URLs are invalid and, thus, point to no resources).\nSuch resources can be HTML pages, images, videos and many others."),(0,r.yg)("p",null,"Here are some examples of URLs:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"https://security-summer-school.github.io")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"https://github.com/security-summer-school/essentials/blob/master/explaining-the-internet/README.md")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"https://www.google.com/search?q=security+summer+school"))),(0,r.yg)("p",null,"You've probably figured out that these URLs look somewhat similar.\nThey all start with ",(0,r.yg)("inlineCode",{parentName:"p"},"https://"),", they look like paths in the file system, separated by ",(0,r.yg)("inlineCode",{parentName:"p"},"/"),", they use some special characters such as ",(0,r.yg)("inlineCode",{parentName:"p"},"?")," and ",(0,r.yg)("inlineCode",{parentName:"p"},"+"),".\nIn the next section, we'll explain all of these components."),(0,r.yg)("h4",{id:"anatomy-of-a-url"},"Anatomy of a URL"),(0,r.yg)("p",null,"The image below summarises the building blocks of a URL"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Anatomy of a URL",src:n(3489).A,width:"2493",height:"241"})),(0,r.yg)("p",null,"Let's disect these components:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The scheme")," (sometimes called ",(0,r.yg)("em",{parentName:"li"},"schema"),") indicates the application layer protocol that the browser must use to request the resource.\nUsually, for websites, the protocol is HTTP (unsecured) or HTTPS (secured).\nWe'll get into the details of HTTP in the ",(0,r.yg)("a",{parentName:"li",href:"../rediscovering-the-browser"},"next session"),".\nOther schemes include ",(0,r.yg)("inlineCode",{parentName:"li"},"ftp")," (File Transfer Protocol), ",(0,r.yg)("inlineCode",{parentName:"li"},"git"),", ",(0,r.yg)("inlineCode",{parentName:"li"},"mailto")," etc."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The authority")," is separated from the scheme by the characters ",(0,r.yg)("inlineCode",{parentName:"li"},"://"),"\nIt includes both the domain (in our case: ",(0,r.yg)("inlineCode",{parentName:"li"},"www.example.com"),") and the port (",(0,r.yg)("inlineCode",{parentName:"li"},"80"),"), separated by a colon:",(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The domain")," indicates which Web server is being requested.\nUsually this is a domain name, but an IP address may also be used (as you've seen when solving our challenges)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The port")," indicates the technical ",(0,r.yg)("em",{parentName:"li"},"gate")," used to access the resources on the web server.\nIt is usually omitted if the web server uses the standard ports of the HTTP protocol (80 for HTTP and 443 for HTTPS) to grant access to its resources.\nWe'll explain this concept in further detail in the ",(0,r.yg)("a",{parentName:"li",href:"#the-transport-layer"},"Transport Layer")," section."))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The path")," to the resource was, in the early days of the Internet, a physical file location on the web server.\nNowadays, it is mostly an abstraction handled by web servers without any mandatory physical reality."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The parameters")," are like function parameters, but they are passed to the web server itself.\nThose parameters are a list of key - value pairs separated with the ",(0,r.yg)("inlineCode",{parentName:"li"},"&")," symbol.\nThe web server can use those parameters to do extra stuff before returning the resource.\nEach web server has its own rules regarding parameters.\nOnce again, we'll learn more about these parameters, more commonly known as ",(0,r.yg)("strong",{parentName:"li"},"query parameters")," in the ",(0,r.yg)("a",{parentName:"li",href:"../rediscovering-the-browser"},"next session"),"."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"The anchor"),", also known as ",(0,r.yg)("strong",{parentName:"li"},"fragment"),", is like a ",(0,r.yg)("em",{parentName:"li"},"bookmark")," to some specific part of the resource.\nIt gives the browser directions to show the content located at that ",(0,r.yg)("em",{parentName:"li"},"bookmarked")," spot.\nOn an HTML document, for example, the browser will scroll to the point where the anchor is defined; on a video or audio document, the browser will try to go to the time the anchor represents.\nMarkdown documents also use anchors, like so: ",(0,r.yg)("a",{parentName:"li",href:"https://github.com/security-summer-school/essentials/tree/master/explaining-the-internet#anatomy-of-a-url"},"https://github.com/security-summer-school/essentials/tree/master/explaining-the-internet#anatomy-of-a-url"),".")),(0,r.yg)("p",null,"You might have heard the same things being called ",(0,r.yg)("em",{parentName:"p"},"Uniform Resource Identifiers (URIs)"),".\nThis is correct, but it's not the most precise name you can use.\nIn order to understand the difference between URLs and URIs, check out their ",(0,r.yg)("a",{parentName:"p",href:"#url-vs-uri"},"corresponding section"),"."),(0,r.yg)("p",null,"We'll see how URLs are translated into IPs by a naming system called the ",(0,r.yg)("strong",{parentName:"p"},"Domanin Name System (DNS)"),"."),(0,r.yg)("h3",{id:"the-domain-name-system"},"The Domain Name System"),(0,r.yg)("p",null,"Remember: IPs, ",(0,r.yg)("strong",{parentName:"p"},"not URLs"),", are what's used to identify hosts (web servers included) on the Internet.\nSo there needs to be a service by which the URLs we've just learned about are mapped to IPs.\nThis service is called the DNS.\nIt organises URLs in a hierarchical manner, in order to rapidly respond to queries.\nYou can think of the DNS as being similar to a ",(0,r.yg)("strong",{parentName:"p"},"phonebook of the Internet"),"."),(0,r.yg)("p",null,"Here's how all of this works.\nWhen you type ",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io")," into your browser, it sends a query over the Internet in order to find the website associated with the URL ",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io"),".\nA query is a question asking to look up the domain name and respond to the corresponding IP address.\nLet's follow the path of this question across the Internet."),(0,r.yg)("p",null,"In short, a DNS server performs the steps outlined ",(0,r.yg)("a",{parentName:"p",href:"https://howdns.works/ep1/"},"here"),"."),(0,r.yg)("h4",{id:"the-recursive-resolver"},"The Recursive Resolver"),(0,r.yg)("p",null,"The first server that the query interacts with is what's called the ",(0,r.yg)("strong",{parentName:"p"},"recursive resolver"),'.\nThis resolver is often operated by your ISP.\nIt is a database of other DNS servers, which asks it forwards the same question: "What is the IP of ',(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io"),'?"'),(0,r.yg)("h4",{id:"the-root-server"},"The Root Server"),(0,r.yg)("p",null,"The first DNS server that the recursive resolver talks to is the ",(0,r.yg)("strong",{parentName:"p"},"root server"),".\nThese servers are responsible for translating ",(0,r.yg)("em",{parentName:"p"},"top-level domains"),", such as ",(0,r.yg)("inlineCode",{parentName:"p"},".io"),", ",(0,r.yg)("inlineCode",{parentName:"p"},".com"),", ",(0,r.yg)("inlineCode",{parentName:"p"},".net")," etc.\nThese root servers are few in number (only 13 across the world) and are highly secured."),(0,r.yg)("h4",{id:"the-top-level-domain-name-server"},"The Top-Level Domain Name Server"),(0,r.yg)("p",null,"The next entity that processes the query is the ",(0,r.yg)("strong",{parentName:"p"},"Top-Level Domain (TLD) Name Server"),".\nThere are TLDs associated with each domain mentioned in the above section.\nFor instance, the search for ",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io")," will be passed to the TLD responsible for the ",(0,r.yg)("inlineCode",{parentName:"p"},".io")," domain.\nThis TLD will answer with ",(0,r.yg)("inlineCode",{parentName:"p"},".io"),"'s IP."),(0,r.yg)("h4",{id:"the-authoritative-name-servers"},"The Authoritative Name Server(s)"),(0,r.yg)("p",null,"The last step in our lookup is ",(0,r.yg)("strong",{parentName:"p"},"The Authoritative Name Servers"),' (sometimes the "authoritative" part is omitted).\nWe use the plural "servers" because our query may be for a subdomain.\nIn fact, our query for ',(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github")," is one such case.\nThis means, that 2 name servers will fulfill the request.\nThe first server will fetch the IP of ",(0,r.yg)("inlineCode",{parentName:"p"},".github.io")," and the second will fetch the IP of the whole query (",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io"),"), by looking into the subdomains of ",(0,r.yg)("inlineCode",{parentName:"p"},".github.io"),".\nThis server is symilar to a dictionary, in which a specific domain name is translated into its IP."),(0,r.yg)("h4",{id:"putting-it-together"},"Putting it Together"),(0,r.yg)("p",null,"As you've probably noticed, the URLs are translated to IPs ",(0,r.yg)("em",{parentName:"p"},"in reverse order"),".\nAs a result, ",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io")," is mapped to its IP in the order:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},".io"),";"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},".github"),";"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"security-summer-school"),".")),(0,r.yg)("p",null,"This makes sense, as this order gradually narrows the ",(0,r.yg)("em",{parentName:"p"},"scope")," in which the URL has to be searched.\nIt would be much more inefficient to look for ",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school")," across the whole Internet, rather than limiting the search to the ",(0,r.yg)("inlineCode",{parentName:"p"},".github.io")," domain.\nThe fact that we are able to perform queries in this manner is proof of the hierarchical nature of IP addresses."),(0,r.yg)("p",null,"All in all, the DNS lookup for ",(0,r.yg)("inlineCode",{parentName:"p"},"security-summer-school.github.io")," is the one shown below.\nNotice that the Recursive Resolver acts as a mediator between most of the DNS lookups."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"DNS Lookup for security-summer-school.github.io",src:n(6608).A,width:"1276",height:"367"})),(0,r.yg)("p",null,"Notice that only the domain of a URL has its name resolved to an IP address.\nThe port, path, parameters and anchor are handled by the web server itself.\nThe DNS part is, thus, necessary in order to ",(0,r.yg)("strong",{parentName:"p"},"find")," that web server."),(0,r.yg)("h4",{id:"host"},(0,r.yg)("inlineCode",{parentName:"h4"},"host")),(0,r.yg)("p",null,"In the previous section we explained the DNS.\nNow let's put what we've just learned into practice.\nIn order to query the DNS service, we use the ",(0,r.yg)("inlineCode",{parentName:"p"},"host")," command.\nIt's pretty straightforward:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"root@kali:~# host security.summer.schoo.github.io\nsecurity.summer.schoo.github.io has address 185.199.108.153\nsecurity.summer.schoo.github.io has address 185.199.110.153\nsecurity.summer.schoo.github.io has address 185.199.109.153\nsecurity.summer.schoo.github.io has address 185.199.111.153\nsecurity.summer.schoo.github.io has IPv6 address 2606:50c0:8002::153\nsecurity.summer.schoo.github.io has IPv6 address 2606:50c0:8000::153\nsecurity.summer.schoo.github.io has IPv6 address 2606:50c0:8003::153\nsecurity.summer.schoo.github.io has IPv6 address 2606:50c0:8001::153\n")),(0,r.yg)("p",null,"Notice there are more IP's for ",(0,r.yg)("inlineCode",{parentName:"p"},"security.summer.schoo.github.io"),".\nThe main reason for this is ",(0,r.yg)("strong",{parentName:"p"},"load balancing"),".\nGithub is accessed frequently and in order not to overload a single server, it uses multiple servers for a single domain.\nObviously, each of them serve the same web page: ",(0,r.yg)("inlineCode",{parentName:"p"},"security.summer.schoo.github.io"),".\nGithub simply serves more machines to spread the workload."),(0,r.yg)("h2",{id:"the-transport-layer"},"The Transport Layer"),(0,r.yg)("p",null,"So with IPs, we can connect two hosts however far apart they are.\nSo far, we managed to directly connect hosts.\nThen we moved on to LANs and then to the whole Web.\nThis must be it, right?\nWe're now worldwide.\nWhy all the fuss about the Transport Layer.\nLet's run an experiment: in your browser, open two tabs to your favourite website (which is ",(0,r.yg)("a",{parentName:"p",href:"https://security-summer-school.github.io"},"https://security-summer-school.github.io"),", of course).\nHow are those connections handled?\nHow come what you do in one of the tabs does not interfere with what you do in the other?\nIPs give us connections from host to host, but they can't differentiate between multiple connections between the same two hosts."),(0,r.yg)("p",null,"For this, we need another concept: ",(0,r.yg)("strong",{parentName:"p"},"ports"),".\nThe layer that implements these ports is called ",(0,r.yg)("strong",{parentName:"p"},"the transport layer"),"."),(0,r.yg)("p",null,"The transport layer is the second layer of the protocol stack and sits immediately below the application layer.\nAt the transport layer there are two main protocols in use: ",(0,r.yg)("strong",{parentName:"p"},"Transmission Control Protocol (TCP)")," and ",(0,r.yg)("strong",{parentName:"p"},"User Datagram Protocol (UDP)"),".\nMore about them in just a bit."),(0,r.yg)("p",null,"The transport layer accepts ",(0,r.yg)("strong",{parentName:"p"},"messages")," from the application layer as application data.\nIt does not care if this data is part of the connection setup process, actual data to be transferred, or some other control message.\nIt just sees the data as a bunch of bytes to be transported to the receiving end's transport layer."),(0,r.yg)("h3",{id:"ports"},"Ports"),(0,r.yg)("p",null,"Generally speaking, ports are endpoints used for communication.\nThey have no physical correspondence, but are merely logical concepts used to segregate between different processes, all running on the same host."),(0,r.yg)("p",null,"A port is a 16-bit number used in order to identify multiple network-using processes ",(0,r.yg)("strong",{parentName:"p"},"on the same host"),".\nNotice that with IPs we were talking about identifying ",(0,r.yg)("em",{parentName:"p"},"hosts")," whereas now we've increased the granularity and are talking about ",(0,r.yg)("em",{parentName:"p"},"processes"),"\nAs a result, when a sender process wants to connect to another process (the receiver), it must specify both the port it's currently using and the port used by the receiver."),(0,r.yg)("p",null,"Since ports are numbers up to ",(0,r.yg)("inlineCode",{parentName:"p"},"2^16"),", this means there are 65536 of them.\nThis number is enough, given that it's meant to encompass the network-using processes in the system.\nHowever, not all of them are available for your average network application.\nThe ",(0,r.yg)("strong",{parentName:"p"},"first 1024 (port numbers 0 to 1023)")," of them are reserved for common system applications and services."),(0,r.yg)("h3",{id:"tcp"},"TCP"),(0,r.yg)("p",null,'The "Control" word in this protocol\'s name should give us a hint that TCP is about handling various errors that may occur while a packet is traversing the Internet.\nFor this reason, TCP keeps track of the amount of data it sends and ensures it arrives in order (by buffering any out-of-order packets).\nThis type of tracking is made possible by the use of ',(0,r.yg)("strong",{parentName:"p"},"sequence numbers (",(0,r.yg)("inlineCode",{parentName:"strong"},"Seq"),")"),".\nIn addition, the receiver sends a special message whenever it gets a segment.\nThis message is called ",(0,r.yg)("strong",{parentName:"p"},"acknowledgement (ACK)"),".\nEach ACK is sent together with an ",(0,r.yg)("strong",{parentName:"p"},"ACK number"),".\nThis number signifies the amount of bytes received so far by the host.\nIt is used by the sender to figure out what portion of the data to send as part of the next segment."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"TCP ACKs in Action",src:n(6958).A,width:"538",height:"756"})),(0,r.yg)("p",null,"In the above diagram we can see that the sender (client) adds some bytes (whose length is specified as ",(0,r.yg)("inlineCode",{parentName:"p"},"Len"),") to those already sent.\nAt the same time, the receiver (server) adds the newly arrived bytes to those received previously and sends this number back to the client as the ACK number."),(0,r.yg)("p",null,"But some segments might arrive altered (some of their bits may be changed).\nTCP adds what's called a ",(0,r.yg)("strong",{parentName:"p"},"checksum")," to each packet.\nThis checksum is computed by ",(0,r.yg)("inlineCode",{parentName:"p"},"xor"),"-ing all bytes in the segment.\nWhen a segment is received, its checksum is recomputed and compared to the one contained within it.\nIf the two checksums differ, the receiver notifies the sender by sending a ",(0,r.yg)("strong",{parentName:"p"},"not ACK (NACK)")," segment instead of an ACK.\nUpon receiving a NACK, the sender ",(0,r.yg)("strong",{parentName:"p"},"retransmits")," the segment.\nThe same mechanism is employed for segments that do not make it to the receiver."),(0,r.yg)("p",null,"In short, TCP makes sure that whatever is sent is received completely and correctly.\nThis feature is obviously important.\nAs a result, TCP is used for the transport-layer in the following application-level protocols and scenarios:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"SMTP (Simple Mail Transfer Protocol)"),", ",(0,r.yg)("strong",{parentName:"li"},"IMAP (Internet Access Message Protocol)")," and ",(0,r.yg)("strong",{parentName:"li"},"POP3 (Post Office Protocol version 3)"),": the main protocols used by email services worldwide."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"HTTP/HTTPS (HyperText Transfer Protocol / Secured)"),": the most popular protocol used to transfer web pages.\nBy default, HTTP uses port 80 and HTTPS uses port 443."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"SSH (Secure Shell)"),": a widely used protocol for obtaining a remote shell on another machine.")),(0,r.yg)("h4",{id:"ssh"},"SSH"),(0,r.yg)("p",null,"We've been using ",(0,r.yg)("inlineCode",{parentName:"p"},"ssh")," to connect to the remote machines used for challenges and tutorials.\nNow we know it is a protocol used for connecting to remote hosts via a shell.\nIt opens a TCP connection to the remote host, where each character typed in the terminal is sent to the receiving host."),(0,r.yg)("p",null,"As its name suggests, the gist of this protocol is ",(0,r.yg)("strong",{parentName:"p"},"secured"),".\nThe security implies that the characters are not sent to the receiver as plain text, but are ",(0,r.yg)("strong",{parentName:"p"},"encrypted"),".\nWhile we'll discuss more about encryption in the ",(0,r.yg)("a",{parentName:"p",href:"../data-security"},"Data Security")," session, it is important that we outline the main workings of encryption."),(0,r.yg)("p",null,"Upon initiating the SSH connection, an encryption algorithm is negociated between the communicating hosts.\nThis algorithm performs two operations: encryption and decryption"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Encryption")," transforms data (either keys pressed by the sender, or the output from the receiver) into bytes that look random (i.e. one cannot distingush an encrypted text and a random set of bytes)."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Decryption")," performs the opposite operation: turns encrypted bytes into plain text.")),(0,r.yg)("p",null,"The typical ",(0,r.yg)("inlineCode",{parentName:"p"},"ssh")," command looks like this:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ssh user@ip \n")),(0,r.yg)("p",null,"For example:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ssh student@141.85.224.100\n")),(0,r.yg)("p",null,"By default, SSH uses port 22.\nWe can specify another port by using the ",(0,r.yg)("inlineCode",{parentName:"p"},"-p")," parameter like so:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ssh user@ip -p port\n")),(0,r.yg)("p",null,"This is what you've been doing for the last 2 sessions in order to log onto our machines and solve challenges:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"root@kali:~# ssh ctf@ip -p <some_number>\n")),(0,r.yg)("p",null,"What you did is you created an SSH conection using a custom port which did not open a shell onto our full machines, but onto an individual ",(0,r.yg)("a",{parentName:"p",href:"#containers"},"container")," that was hosting each challenge.\nThink of a container as a lighter, albeit less secure VM.\nThe architecture looks like this:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Challenge Hosting Architecture",src:n(2027).A})),(0,r.yg)("h3",{id:"udp"},"UDP"),(0,r.yg)("p",null,"We said TCP guarantees the correctness of the delivered data, which is great.\nThis guarantee, however, comes at the cost of performance.\nIn the picture above, we saw how ACKs are transmitted.\nThis mechanism causes a significant temporal overhead, that we sometimes simply cannot afford.\nThere are services that need to transfer data really fast and, thus, they forgo the need for ",(0,r.yg)("strong",{parentName:"p"},"datagram")," correctness.\nAs the protocol's name suggests, UDP messages are called datagrams.\nIf a received packet is incorrect or if it's missing, well... too bad.\nLife moves on... to the next packet and so on.\nSo applications usually simply discard incorrect or missing UDP datagrams.\nIn case you were wondering, UDP also computes the checksum, but provides no mechanism for error handling.\nIt's up to the application layer to deal with them."),(0,r.yg)("p",null,"In short, with UDP, the sender just sends its datagrams to the receiver.\nSome might arrive out of order, or corrupted, but this is entirely the receiver's problem."),(0,r.yg)("p",null,"Moreover, with the wide implementation of optical fiber around the world, the possibility of datagrams being lost or corrupted has dropped to almost 0.\nFor this reason, UDP is mostly used for streaming services:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},"YouTube"),(0,r.yg)("li",{parentName:"ul"},"Netflix"),(0,r.yg)("li",{parentName:"ul"},"Discord"),(0,r.yg)("li",{parentName:"ul"},"Spotify"),(0,r.yg)("li",{parentName:"ul"},"PornHub")),(0,r.yg)("p",null,"Since an image is worth 1000 words, here's a summary of TCP and UDP:"),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"TCP vs UDP",src:n(6239).A,width:"460",height:"386"})),(0,r.yg)("h2",{id:"the-application-layer"},"The Application Layer"),(0,r.yg)("p",null,"The layer that is the closest to the user, the application layer is also the one that is hardest to define, since it denotes all network applications.\nSo we'll try to list but a few examples of applications.\nWe've already mentioned some of them in the ",(0,r.yg)("a",{parentName:"p",href:"#tcp"},"TCP")," and ",(0,r.yg)("a",{parentName:"p",href:"#udp"},"UDP")," sections."),(0,r.yg)("p",null,"In essence, every app that you use, and which has anything to do with the Internet, is implemented at the application layer."),(0,r.yg)("h3",{id:"netstat"},(0,r.yg)("inlineCode",{parentName:"h3"},"netstat")),(0,r.yg)("p",null,"Netstat is a complex service used for inspecting various networking-related data.\nWe'll be using it to list the services running on a host.\nNow let's test our own Kali Linux host."),(0,r.yg)("p",null,"List all running services.\nThe ",(0,r.yg)("inlineCode",{parentName:"p"},"-a"),' parameter stands for "all".'),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"root@kali:~# netstat -a | less\n")),(0,r.yg)("p",null,"That's quite a lot of them.\nLet's trim them down a bit.\nFor example, let's only list the services running TCP connections.\nThe ",(0,r.yg)("inlineCode",{parentName:"p"},"-t"),' parameter stands for "TCP".\nNotice how we can concatenate parameters.\n',(0,r.yg)("inlineCode",{parentName:"p"},"-a -t")," is equivalent to ",(0,r.yg)("inlineCode",{parentName:"p"},"-at")," or ",(0,r.yg)("inlineCode",{parentName:"p"},"-ta"),"."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"root@kali:~# netstat -at | less\n")),(0,r.yg)("p",null,"Similarly, we can query all services using UDP connections:\nAs you might have guessed, UDP connections are listed using the ",(0,r.yg)("inlineCode",{parentName:"p"},"-u")," parameter."),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"root@kali:~# netstat -au  # no need for `less` anymore\n")),(0,r.yg)("p",null,"Now let's look for ",(0,r.yg)("strong",{parentName:"p"},"servers")," specifically.\nUsually a server waits for clients to connect to it and send requests.\nWe say the server ",(0,r.yg)("strong",{parentName:"p"},"listens")," for connections."),(0,r.yg)("h3",{id:"challenge---who-is-111"},"Challenge - Who is 111?"),(0,r.yg)("p",null,"Use the ",(0,r.yg)("inlineCode",{parentName:"p"},"netstat"),"'s ",(0,r.yg)("inlineCode",{parentName:"p"},"man")," page and find the ",(0,r.yg)("strong",{parentName:"p"},"name of the program")," that listens on port ",(0,r.yg)("em",{parentName:"p"},"111"),".\nThe flag of this challenge does ",(0,r.yg)("strong",{parentName:"p"},"not")," respect the format ",(0,r.yg)("inlineCode",{parentName:"p"},"SSS{...}"),"."),(0,r.yg)("h2",{id:"wrap-up"},"Wrap-up"),(0,r.yg)("p",null,"The network stack up to and including the transport layer is implemented by the kernel of most operating systems.\nThis passes the burden of handling the lower layers of the TCP/IP stack to the OS, leaving the main logic to the application.\nThis is also helped by the fact that the protocols at the link, internet and transport layers are highly standardised, while there are no real constraints to how applications define protocols they use internally."),(0,r.yg)("h2",{id:"summary"},"Summary"),(0,r.yg)("p",null,"We've used a lot of acronymes during this session.\nHere they are explained once more, in case you missed some of them:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"ACK:")," Acknowledgement"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"(D)DoS:")," (Distributed) Denial of Service"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"DHCP:")," Dynamic Host Configuration Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"DNS:")," Domain Name System"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"HTML:")," HyperText Markup Language"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"HTTP(S):")," HyperText Transfer Protocol (Secured)"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"ICMP:")," Internet Control Message Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"IMAP:")," Internet Access Message Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"IP:")," Internet Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"ISP:")," Internet Service Provider"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"LAN:")," Local Area Network"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"MAC:")," Media Access Control"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"NACK:")," Not Acknowledged"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"NIC:")," Network Interface Card"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"OSI:")," Open Systems Interconnection"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"POP3:")," Post Office Protocol version 3"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"RTT:")," Round-Trip Time"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"SMTP:")," Simple Mail Transfer Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"SSH:")," Secure Shell"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"TCP:")," Transmission Control Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"TLD:")," Top-Level Domain"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"UDP:")," User Datagrem Protocol"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"URI:")," Uniform Resource Identifier"),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"URL:")," Uniform Resource Locator")),(0,r.yg)("p",null,"Here's a short summary of the layers of the TCP/IP stack:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Link:")," Provides us with direct connections to other hosts.\nAlso adds identifiers to NICs in the form of MAC addresses."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Internet:")," Provides routing and identifiers for hosts in the Internet, in the form of IP addresses."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Transport:")," Provides connections between processes on different hosts by using ports."),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Application:")," Composes the actual message to be delivered to the receiver.")),(0,r.yg)("p",null,"Finally, let's map some of the layers of the TCP/IP stack to the CLI tools we use for each of them:"),(0,r.yg)("ul",null,(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Internet:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ping")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"dig")))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Transport:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"ssh")),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"netcat")))),(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("strong",{parentName:"li"},"Application:"),(0,r.yg)("ul",{parentName:"li"},(0,r.yg)("li",{parentName:"ul"},(0,r.yg)("inlineCode",{parentName:"li"},"netstat")," (although it has ",(0,r.yg)("a",{parentName:"li",href:"https://linux.die.net/man/8/netstat"},"many other uses"),")")))),(0,r.yg)("h2",{id:"activities"},"Activities"),(0,r.yg)("h3",{id:"challenge---they-see-me-running"},"Challenge - They See Me Running"),(0,r.yg)("p",null,"There' s a quiz server running on the remote host.\nFind the port on which the server is listening.\nThen use ",(0,r.yg)("inlineCode",{parentName:"p"},"netcat")," (",(0,r.yg)("inlineCode",{parentName:"p"},"nc"),') to "talk" to the server and answer its questions.\nUpon a correct answer, the server will give you a flag.'),(0,r.yg)("h3",{id:"challenge---unaccessible"},"Challenge - Unaccessible"),(0,r.yg)("p",null,"Connect to the remote host via ",(0,r.yg)("inlineCode",{parentName:"p"},"ssh")," as user ",(0,r.yg)("inlineCode",{parentName:"p"},"vuln")," and get the flag.\nIf only you knew the password.\nUp to now, the password was always ",(0,r.yg)("inlineCode",{parentName:"p"},"ctf"),".\nThis time, you have to find it yourselv\nThe file ",(0,r.yg)("inlineCode",{parentName:"p"},"password.txt")," that contains the MD5 hash of the password.\nYou can paste it on ",(0,r.yg)("a",{parentName:"p",href:"https://crackstation.net/"},"crackstation"),", but real hackers use ",(0,r.yg)("a",{parentName:"p",href:"https://github.com/openwall/john"},"John the Ripper"),".\nDon't chicken out and crack the password using ",(0,r.yg)("inlineCode",{parentName:"p"},"john"),".\nWe'll come back to ",(0,r.yg)("inlineCode",{parentName:"p"},"john")," when we discuss ",(0,r.yg)("a",{parentName:"p",href:"../data-security/"},"Data Security"),"."),(0,r.yg)("h3",{id:"challenge---pinger"},"Challenge - Pinger"),(0,r.yg)("p",null,"The service can ping any IP by running the follwing command:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre"},"$ ping -c 1 <your input>\n")),(0,r.yg)("p",null,"Since your input is given directly to a shell command, you can be creative with how you use it."),(0,r.yg)("h2",{id:"further-reading"},"Further Reading"),(0,r.yg)("h3",{id:"the-osi-stack"},"The OSI Stack"),(0,r.yg)("p",null,"In the session, we discussed the TCP/IP stack, which is implemented by the kernel of every Operating System (Linux included).\nIn the early days of the Internet, however, another model was popular.\nThis was the ",(0,r.yg)("strong",{parentName:"p"},"OSI Model"),".\nAs a matter of fact, it's still a popular model for teaching about the internet, because it makes a more rigorous separation of what we called the Application Layer.\nThis layer is split into 3, and the transmission medium is added as a separate physical layer, thus resulting a 7-layer stack.\nYou can learn about this alternative stack ",(0,r.yg)("a",{parentName:"p",href:"https://www.imperva.com/learn/application-security/osi-model/"},"here"),", but keep in mind that it is almost never used in practice."),(0,r.yg)("h3",{id:"the-networking-bible"},"The Networking Bible"),(0,r.yg)("p",null,"Speaking of the OSI model, it is paramount that we mention the most influential book in computer networking to this day, namely Andrew Tanenbaum's ",(0,r.yg)("a",{parentName:"p",href:"http://index-of.es/Varios-2/Computer%20Networks%205th%20Edition.pdf"},"Computer Networks"),".\nDating from 1981 (about the time these stacks were first defined), this book has been the cornerstone of networking ever since.\nIt's a must-read for every netoworking enthusiast."),(0,r.yg)("h3",{id:"icmp"},"ICMP"),(0,r.yg)("p",null,"The protocol used by ",(0,r.yg)("inlineCode",{parentName:"p"},"ping")," is called ",(0,r.yg)("strong",{parentName:"p"},"Internet Control Message Protocol (ICMP)"),".\nThe protocol defines a set of ",(0,r.yg)("em",{parentName:"p"},"utility")," messages and responses, used by hosts in order to check the status of other hosts. "),(0,r.yg)("p",null,"There is also a very well-known attack, called ",(0,r.yg)("strong",{parentName:"p"},"Distributed Denial of Service (DDoS)"),", by which an attacker floods a server with ",(0,r.yg)("inlineCode",{parentName:"p"},"ping"),"s essentially.\nThe purpose of this attack is to overwhelm the server by making it do nothing else but respond to these ",(0,r.yg)("inlineCode",{parentName:"p"},"pings"),", rather than serve the actual requests for which it was designed.\nThus, this type of attack aims to render a server useless, or even make it crash.\nThe attack has been executed in many forms, with one of the simplest being described ",(0,r.yg)("a",{parentName:"p",href:"https://www.cloudflare.com/learning/ddos/glossary/internet-control-message-protocol-icmp/"},"here"),"."),(0,r.yg)("h3",{id:"url-vs-uri"},"URL vs URI"),(0,r.yg)("p",null,"This session you've learned about ",(0,r.yg)("em",{parentName:"p"},"URL"),"s, but you might have also heard about ",(0,r.yg)("em",{parentName:"p"},"URI"),"s.\nThey're quite similar, but still different.\n",(0,r.yg)("a",{parentName:"p",href:"https://danielmiessler.com/study/difference-between-uri-url/"},"Here"),"'s the difference explained."),(0,r.yg)("h3",{id:"ipv6"},"IPv6"),(0,r.yg)("p",null,"Since regular IPs (also known as ",(0,r.yg)("strong",{parentName:"p"},"IPv4"),") are 32-bit numbers, there are ",(0,r.yg)("inlineCode",{parentName:"p"},"2^32")," possible unique IPs.\nThis number may look large, but it's ",(0,r.yg)("em",{parentName:"p"},"just")," 4,294,967,296, so just upwards of 4 billion.\nBut the world's population is 7.9 billion as of September 2021, and growing.\nThe pigeonhole principle tells us there are not enough IPs so that every human can be connected to the Internet at the same time."),(0,r.yg)("p",null,"For this reason and some others related to the lack of native security of the IP protocol, a new iteration of IPs was designed: ",(0,r.yg)("strong",{parentName:"p"},"IPv6"),".\nThese new IPs are 128-bit numbers.\n",(0,r.yg)("inlineCode",{parentName:"p"},"2^128")," is 39 ",(0,r.yg)("strong",{parentName:"p"},"digits")," long, so it should suffice for the entirety of Earth's population (a few times over)."),(0,r.yg)("p",null,"For a better (but still short) introduction to IPv6, check out ",(0,r.yg)("a",{parentName:"p",href:"http://www.steves-internet-guide.com/ipv6-guide/"},"this")," source."),(0,r.yg)("h3",{id:"dhcp"},"DHCP"),(0,r.yg)("p",null,(0,r.yg)("strong",{parentName:"p"},"Dynamic Host Configuration Protocol (DHCP)")," is a protocol used in order to manage and distribute IP addresses.\nHosts are ",(0,r.yg)("em",{parentName:"p"},"leased")," IP addresses from DHCP servers for a limited amount of time.\nWhen an address is about to expire, a host can ask the server to extend the lease.\nYou can read more about DHCP servers ",(0,r.yg)("a",{parentName:"p",href:"https://www.infoblox.com/glossary/dhcp-server/"},"here"),"."),(0,r.yg)("h3",{id:"containers"},"Containers"),(0,r.yg)("p",null,"The main difference between containers and VMs is that VMs use their own separate OS, whereas containers share the OS with the host.\nThink about your Kali Linux VM.\nIt obviously has a separate OS: Kali Linux, duh, while you have your own OS: Windows, Linux, MacOS, whatever.\nThe operating system inside the VM is called ",(0,r.yg)("strong",{parentName:"p"},"guest OS"),', while the "outer" OS is called ',(0,r.yg)("strong",{parentName:"p"},"host OS"),".\nWhen it comes to VMs, you need some sort of ",(0,r.yg)("em",{parentName:"p"},"mediator")," between the guest and the host.\nThis mediator is called ",(0,r.yg)("strong",{parentName:"p"},"a hypervisor"),".\nIn your case, this is VirtualBox."),(0,r.yg)("p",null,"This separation between OSs ensures a more secure separation between the two environments.\nOn the other hand, if a host spawns multiple containers, all of them (host and containers) use the host's OS.\nThe containers are most importantly separated at the filesystem level.\nThey can also be allocated more limited resources.\nNotice that if you were to use a container for the Security Summer School, you couldn't use Kali Linux unless your host OS were also Kali Linux, which would have been pretty pointless."),(0,r.yg)("p",null,(0,r.yg)("img",{alt:"Containers vs VMs",src:n(1915).A,width:"900",height:"548"})),(0,r.yg)("p",null,"However, we use containers to host challenges because our VMs and containers all use Linux and because we can house more containers on the same host (which is itself a VM) than we could VMs.\nYou can learn more about containers and how to manage them using ",(0,r.yg)("inlineCode",{parentName:"p"},"docker")," (we also use it for challenges) ",(0,r.yg)("a",{parentName:"p",href:"https://www.docker.com/resources/what-container/"},"here"),"."))}m.isMDXComponent=!0},2027:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/challenge_hosting_architecture-c7dd58c9ceda8aae1f9ee57a0cc7129c.svg"},1915:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/containers-vs-virtual-machines-53686ec2856820b13cfb70c76215832b.png"},6608:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/dns_lookup-20835f232a0ef9ce09e89d95b1368368.png"},7733:(e,t,n)=>{n.d(t,{A:()=>a});const a="data:image/png;base64,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"},2867:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/network_stack-7ec9712b880e622b7750b6703dac1146.png"},253:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/router_in_action-1090b63958dad67f66d3518e9560a935.svg"},6958:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/tcp_ack_model-7fa0148027570ea3208dcb6b51ca468f.webp"},3736:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/tcp_ip_network_stack-1566e3ad915dc324385453eddd9b657c.svg"},6239:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/tcp_vs_udp-11915d73a4a94a35d49987ff7c245f79.jpg"},3489:(e,t,n)=>{n.d(t,{A:()=>a});const a=n.p+"assets/images/url_anatomy-2117376844f75b5ca2e26272684cf986.png"}}]);